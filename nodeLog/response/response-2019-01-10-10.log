[2019-01-10 10:56:20.442] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /signOut
request client ip:  ::1
request query:  {}
response time: 9
response status: 302
response body: 
"Redirecting to <a href=\"/signInPC\">/signInPC</a>."
*************** response log end ***************

[2019-01-10 10:56:20.453] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /signInPC
request client ip:  ::1
request query:  {}
response time: 4
response status: 200
response body: 
"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n    <title>后台管理系统</title>\n    <meta name=\"keywords\" content=\"后台管理系统\">\n    <meta name=\"description\" content=\"后台管理系统\">\n    <link href=\"/static/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/login.css\" rel=\"stylesheet\">\n    <script>\n        if (window.top !== window.self) {\n            window.top.location = window.location;\n        }\n    </script>\n</head>\n<body class=\"signin\">\n<div class=\"signinpanel\">\n    <div class=\"row\">\n        <div class=\"col-sm-7\">\n            <div class=\"signin-info\">\n                <div class=\"logopanel m-b\">\n                    <h1>杭州核创科技有限公司</h1>\n                </div>\n                <div class=\"m-b\"></div>\n                <h3>\n                    欢迎使用 <strong>后台管理系统</strong>\n                </h3>\n                <!--<ul class=\"m-b\">-->\n                <!--<li><i class=\"fa fa-arrow-circle-o-right m-r-xs\"></i> financial platform</li>-->\n                <!--<li><i class=\"fa fa-arrow-circle-o-right m-r-xs\"></i> investment banking</li>-->\n                <!--<li><i class=\"fa fa-arrow-circle-o-right m-r-xs\"></i> loan</li>-->\n                <!--</ul>-->\n            </div>\n        </div>\n        <div class=\"col-sm-5\">\n            <form id=\"signupForm\">\n                <input type=\"hidden\" name=\"type\"  value=\"pc\" />\n                <h3 class=\"text-center\">用户登录</h3>\n                <p class=\"m-t-md text-center\">欢迎登录后台管理系统</p>\n                <input type=\"text\" name=\"username\" class=\"form-control uname\" value=\"\" placeholder=\"用户名\"/>\n                <input type=\"password\" name=\"password\" class=\"form-control pword m-b\" value=\"\"\n                       placeholder=\"密码\"/>\n                <!--<input type=\"text\"  name=\"imgCode\" class=\"form-control pword m-b\" value=\"\" placeholder=\"图片验证码\" style=\"width: 65%!important;\"/>-->\n                <!--<i class=\"imgcode\" style=\"background-color: white; float: right;width: 31%;margin-top: -49px;\">-->\n                <!--<img onclick=\"reloadImgCode(this)\" id=\"picCode\" style=\"width:100%;height:34px;\" class=\"refresh\" src=\"/getImgCode\"/>-->\n                <!--</i>-->\n                <a id=\"login\" data-loading=\"正在验证登录，请稍后...\" class=\"btn btn-login btn-block\">登录</a>\n                <!--按钮模块-->\n                <div class=\"outside-login\">\n                    <!--<div class=\"outside-login-cot\">-->\n                    <!---->\n                    <!--</div>-->\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class=\"signup-footer\">\n        <div class=\"pull-left\">&copy; 2018 All Rights Reserved. zzhu\n        </div>\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.min.js\"></script>\n<script type=\"text/javascript\">\n    $(document).keypress(function (event) {\n        var code = (event.keyCode ? event.keyCode : event.which);\n        if (code == '13') {\n            login();\n        }\n    });\n\n    function reloadImgCode(obj) {\n        $(obj).attr(\"src\", \"/getImgCode?t=\" + new Date().getTime());\n    }\n\n    $(document).ready(function () {\n        $(\"#login\").on('click', function () {\n            $(\"#signupForm\").submit();\n        });\n        validateRule();\n    });\n\n    $.validator.setDefaults({\n        submitHandler: function () {\n            login();\n        }\n    });\n\n    function login() {\n        layer.open({\n            type: 1,\n            title: $(\"#login\").attr(\"data-loading\"),\n            closeBtn: false,\n            time: 5000, //2秒后自动关闭\n            fixed: false,\n            shadeClose: false, //开启遮罩关闭\n            end: function () {\n                $.ajax({\n                    type: \"POST\",\n                    url: \"/signInPC\",\n                    data: $('#signupForm').serialize(),\n                    timeout:200,\n                    success: function (res) {\n                        if (res.address && res.port > 0) {\n                            layer.msg(\"服务地址为：\" + res.address + \":\" + res.port + \"--连接失败\", {time: 3500});\n                        } else {\n                            if (res.code == 1&&res.data) {\n                                layer.msg(\"登录成功\", {time: 1000}, function () {\n                                    parent.location.href = '/';\n                                });\n                            } else {\n                                layer.msg(res.message, {time: 2000}, function () {\n                                });\n                            }\n\n                        }\n                    },\n                    error: function (xhr) {\n                        layer.closeAll('loading');\n                        if (xhr.status == 400) {\n                            layer.msg('账号或密码错误', {time: 900});\n                        }else if( xhr.status  == 500){\n                            layer.msg('http://192.168.2.84:8080    '+':服务器异常,请联系管理员', {time: 900});\n                        }else if( xhr.status  == 0){\n                            layer.msg('http://192.168.2.84:8080    '+\"\\n\"+':网关异常,请联系管理员', {time: 2000});\n                        }\n                    }\n\n                });\n            }\n        });\n\n    }\n\n    // function login() {\n    //     $.ajax({\n    //         type: \"POST\",\n    //         url: \"/checkImageCode\",\n    //         data: $('#signupForm').serialize(),\n    //         success: function (response) {\n    //             if (response.code == 1) {\n    //                 $.ajax({\n    //                     type: \"POST\",\n    //                     url: \"/signIn\",\n    //                     data: $('#signupForm').serialize(),\n    //                     success: function (res) {\n    //                         if(res.address&&res.port>0){\n    //                             layer.msg(\"服务地址为：\"+res.address+\":\"+res.port+\"--连接失败\",{time:3500});\n    //                         }else{\n    //                             layer.open({\n    //                                 type: 1,\n    //                                 title: $(\"#login\").attr(\"data-loading\") ,\n    //                                 closeBtn:false,\n    //                                 time: 2000, //2秒后自动关闭\n    //                                 fixed: true,\n    //                                 shadeClose: true, //开启遮罩关闭\n    //                                 end:function () {\n    //                                     if (res.code == 1) {\n    //                                         var index = layer.load(1, {\n    //                                             shade: [0,'#fff'] //0.1透明度的白色背景\n    //                                         });\n    //                                         layer.msg(\"登录成功\",{time:1000},function(){\n    //                                             parent.location.href = '/';\n    //                                         });\n    //                                     } else {\n    //                                         layer.msg(res.message,{time:2000},function(){\n    //                                         });\n    //                                     }\n    //                                 }\n    //                             });\n    //                         }\n    //\n    //                     },\n    //                     timeout:3000,\n    //                     global:false,\n    //                     error:function(xhr,errorText,errorType){\n    //                         layer.msg(errorType.toString()+\"---\"+xhr.status,{time:2000});\n    //                     }\n    //                 });\n    //             } else {\n    //                 reloadImgCode($(\"#picCode\"));\n    //                 layer.msg(response.message,{time:2000},function(){\n    //\n    //                 });\n    //             }\n    //         }\n    //     });\n    // }\n\n    /*  required: \"必选字段\",\n        remote: \"请修正该字段\",\n        email: \"请输入正确格式的电子邮件\",\n        url: \"请输入合法的网址\",\n        date: \"请输入合法的日期\",\n        dateISO: \"请输入合法的日期 (ISO).\",\n        number: \"请输入合法的数字\",\n        digits: \"只能输入整数\",\n        creditcard: \"请输入合法的信用卡号\",\n        equalTo: \"请再次输入相同的值\",\n        accept: \"请输入拥有合法后缀名的字符串\",\n        maxlength: jQuery.validator.format(\"请输入一个 长度最多是 {0} 的字符串\"),\n        minlength: jQuery.validator.format(\"请输入一个 长度最少是 {0} 的字符串\"),\n        rangelength: jQuery.validator.format(\"请输入 一个长度介于 {0} 和 {1} 之间的字符串\"),\n        range: jQuery.validator.format(\"请输入一个介于 {0} 和 {1} 之间的值\"),\n        max: jQuery.validator.format(\"请输入一个最大为{0} 的值\"),\n        min: jQuery.validator.format(\"请输入一个最小为{0} 的值\")\n     */\n    function validateRule() {\n        var icon = \"<i class='fa fa-times-circle'></i> \";\n        $(\"#signupForm\").validate({\n            rules: {\n                username: {\n                    required: true\n                },\n                password: {\n                    required: true,\n                    checkPwd: true\n                },\n                googleCode: {\n                    required: false\n                },\n                imgCode: {\n                    required: true\n                }\n            },\n            messages: {\n                username: {\n                    required: icon + \"请输入您的用户名\",\n                },\n                password: {\n                    required: icon + \"请输入您的密码\",\n                },\n                googleCode: {\n                    required: icon + \"请输入谷歌身份验证码\",\n                },\n                imgCode: {\n                    required: icon + \"请输入图片验证码\",\n                }\n            }\n        })\n    };\n\n    $.validator.addMethod(\"checkPwd\", function (value, element, params) {\n        var checkPwd = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/i;\n        return this.optional(element) || (1 == 1);//checkPwd.test(value)\n    }, \"*请输入正确的密码！\");\n\n</script>\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:56:20.665] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /favicon.ico
request client ip:  ::1
request query:  {}
response time: 2
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:56:33.618] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /signInPC
request client ip:  ::1
request body: 
{"type":"pc","username":"admin","password":"fy123456"}
response time: 31
response status: 200
response body: 
{"code":1,"secure":false,"message":"操作成功","data":{"id":2,"userName":"admin","sessionID":"","password":"3863e14eee210c0c7cb8a7aaf8daf55d","mobile":"13867440924","email":"13867440924@163.com","status":1,"addTime":1539841970000,"loginIp":"192.168.2.84","loginTime":1547088993614,"addManager":null,"updateTime":1542159680000,"remark":"","pageNo":0,"pageSize":10,"searchName":null,"roleModel":{"id":2,"name":"配方管理员","status":1,"remark":"只能操作配方管理","roleMenus":[{"id":263},{"id":264}],"pageNo":0,"pageSize":10,"searchName":null,"menuIdStr":null},"roleId":0,"pwdWay":0,"signInWay":0}}
*************** response log end ***************

[2019-01-10 10:56:34.658] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /
request client ip:  ::1
request query:  {}
response time: 14
response status: 200
response body: 
"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta name=\"renderer\" content=\"webkit\">\n    <title>后台管理系统</title>\n    <meta name=\"keywords\" content=\"后台管理系统\">\n    <meta name=\"description\" content=\"后台管理系统\">\n    <link rel=\"shortcut icon\" href=\"favicon.ico\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.min.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css\" rel=\"stylesheet\">\n</head>\n<body class=\"fixed-sidebar full-height-layout gray-bg\" style=\"overflow: hidden\">\n<div id=\"wrapper\">\n    <!--左侧导航开始-->\n    <nav class=\"navbar-default navbar-static-side\" role=\"navigation\" style=\"overflow: auto;\">\n        <div class=\"nav-close\">\n            <i class=\"fa fa-times-circle\"></i>\n        </div>\n        <div class=\"sidebar-collapse\">\n            <ul class=\"nav\" id=\"side-menu\">\n                <li class=\"nav-header\">\n                    <div>\n                        <span><img alt=\"image\" class=\"img-circle\" height=\"60\" width=\"60\"\n                                   src=\"/static/img/clogo.jpg\"/></span>\n                        <h3 class=\"\" style=\"color: #ffffff\">\n                            </i>后台管理系统\n                        </h3>\n                    </div>\n                    <div class=\"dropdown profile-element\">\n                        <a data-toggle=\"dropdown\" class=\"dropdown-toggle\" href=\"#\">\n                            <span class=\"clear\">\n                            <span class=\"block m-t-xs\">\n                                <strong class=\"font-bold\">admin</strong>\n                            </span>\n                            <span class=\"text-muted text-xs block\">配方管理员\n                                <b class=\"caret\"></b></span>\n                             </span>\n                        </a>\n                        <ul class=\"dropdown-menu animated fadeInRight m-t-xs\">\n                            <li><a href=\"javascript:;\" onclick=\"kfz()\">修改头像</a>\n                            </li>\n                            <li><a href=\"javascript:;\" onclick=\"kfz()\">个人资料</a>\n                            </li>\n                            <li><a href=\"javascript:;\" dz onclick=\"kfz()\">密码修改</a>\n                            </li>\n                            <li><a href=\"/signOut\">安全退出</a>\n                            </li>\n                        </ul>\n                        <div class=\"logo-element\">核创科技</div>\n                    </div>\n                </li>\n\n                <!--var icos=[-->\n                <!--'fa-desktop','fa-laptop','fa-tablet','fa-stethoscope','fa-circle-o','fa-medkit',-->\n                <!--'fa-beer','fa-suitcase','fa-coffee','fa-flash','fa-paste','fa-linkedin','fa fa-gear','fa-print','fa-bar-chart'-->\n                <!--]-->\n\n                \n                    \n                        \n                            <li><a href=\"javascript:void(0);\"><i\n                                            class=\"fa fa-qrcode\"></i>\n                                    <span\n                                            class=\"nav-label\">配方管理</span> <span\n                                            class=\"fa arrow\"></span></a>\n                                \n                                    \n                                \n                                    \n                                        <ul class=\"nav nav-second-level collapse\">\n                                            <li><a href=\"/formula/formula\" class=\"J_menuItem\"\n                                                   data-index=\"1\">配方查询</a></li>\n                                        </ul>\n                                    \n                                \n                            </li>\n                        \n                    \n                        \n                    \n                \n            </ul>\n        </div>\n    </nav>\n    <!--左侧导航结束-->\n    <!--右侧部分开始-->\n    <div id=\"page-wrapper\" class=\"gray-bg dashbard-1\">\n        <div class=\"row border-bottom\">\n            <nav class=\"navbar navbar-static-top\" role=\"navigation\" style=\"margin-bottom: 0\">\n                <div class=\"navbar-header\">\n                    <a class=\"navbar-minimalize minimalize-styl-2 btn btn-default \" href=\"#\" title=\"收起菜单\"><i\n                                class=\"fa fa-bars\"></i> </a>\n                    <form role=\"search\" class=\"navbar-form-custom\" method=\"post\" action=\"\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"请输入您需要查找的内容 …\" class=\"form-control\" name=\"top-search\"\n                                   id=\"top-search\">\n                        </div>\n                    </form>\n                </div>\n                <ul class=\"nav navbar-top-links navbar-right\">\n                    <li class=\"hidden-xs\"><a href=\"#\"><i class=\"fa fa-id-card\"></i></a></li>\n                    <li class=\"dropdown hidden-xs\"><a class=\"right-sidebar-toggle\" aria-expanded=\"false\"> <i\n                                    class=\"fa fa-tasks\"></i> 主题</a></li>\n                </ul>\n            </nav>\n        </div>\n        <div class=\"row content-tabs\">\n            <button class=\"roll-nav roll-left J_tabLeft\">\n                <i class=\"fa fa-backward\"></i>\n            </button>\n            <nav class=\"page-tabs J_menuTabs\">\n                <div class=\"page-tabs-content\">\n                    <a href=\"javascript:;\" class=\"active J_menuTab\" data-id=\"/welcome\">首页</a>\n                </div>\n            </nav>\n            <button class=\"roll-nav roll-right J_tabRight\">\n                <i class=\"fa fa-forward\"></i>\n            </button>\n            <div class=\"btn-group roll-nav roll-right\">\n                <button class=\"dropdown J_tabClose\" data-toggle=\"dropdown\">\n                    关闭操作<span class=\"caret\"></span>\n                </button>\n                <ul role=\"menu\" class=\"dropdown-menu dropdown-menu-right\">\n                    <li class=\"J_tabShowActive\"><a>定位当前选项卡</a></li>\n                    <li class=\"divider\"></li>\n                    <li class=\"J_tabCloseAll\"><a>关闭全部选项卡</a></li>\n                    <li class=\"J_tabCloseOther\"><a>关闭其他选项卡</a></li>\n                </ul>\n            </div>\n            <a href=\"/signOut\"  class=\"roll-nav roll-right J_tabExit\"><i\n                        class=\"fa fa fa-sign-out\"></i> 退出</a>\n        </div>\n        <div class=\"row J_mainContent\" id=\"content-main\">\n            <iframe class=\"J_iframe\" name=\"iframe0\" width=\"100%\" height=\"100%\" data-id=\"/welcome\" src=\"/welcome\"\n                    frameborder=\"0\">\n            </iframe>\n        </div>\n        <div class=\"footer\">\n            <div class=\"pull-right\">后台管理系统</div>\n        </div>\n    </div>\n    <!--右侧部分结束-->\n    <!--右侧边栏开始-->\n    <div id=\"right-sidebar\">\n        <div class=\"sidebar-container\">\n            <div class=\"tab-content\">\n                <div id=\"tab-1\" class=\"tab-pane active\">\n                    <div class=\"sidebar-title\">\n                        <h3><i class=\"fa fa-comments-o\"></i> 主题设置</h3>\n                        <small><i class=\"fa fa-tim\"></i>你可以从这里选择和预览主题的布局和样式，这些设置会被保存在本地，下次打开的时候会直接应用这些设置。</small>\n                    </div>\n                    <div class=\"skin-setttings\">\n                        <div class=\"title\">主题设置</div>\n                        <div class=\"setings-item\">\n                            <span>收起左侧菜单</span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"collapsemenu\" class=\"onoffswitch-checkbox\"\n                                           id=\"collapsemenu\">\n                                    <label class=\"onoffswitch-label\" for=\"collapsemenu\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"setings-item\">\n                            <span>固定顶部</span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"fixednavbar\" class=\"onoffswitch-checkbox\"\n                                           id=\"fixednavbar\">\n                                    <label class=\"onoffswitch-label\" for=\"fixednavbar\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"setings-item\">\n                            <span> 固定宽度 </span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"boxedlayout\" class=\"onoffswitch-checkbox\"\n                                           id=\"boxedlayout\">\n                                    <label class=\"onoffswitch-label\" for=\"boxedlayout\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"title\">皮肤选择</div>\n                        <div class=\"setings-item default-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-0\">默认皮肤 </a></span>\n                        </div>\n                        <div class=\"setings-item blue-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-1\">蓝色主题 </a></span>\n                        </div>\n                        <div class=\"setings-item yellow-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-3\">黄色/紫色主题 </a></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- 全局js -->\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/metisMenu/jquery.metisMenu.js\"></script>\n<script src=\"/static/js/plugins/slimscroll/jquery.slimscroll.min.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.min.js\"></script>\n<!-- 自定义js -->\n<script src=\"/static/js/app.js?v=4.1.0\"></script>\n<script type=\"text/javascript\" src=\"/static/js/contabs.js\"></script>\n<!-- 第三方插件 -->\n<script src=\"/static/js/plugins/pace/pace.min.js\"></script>\n<script>\n    function kfz() {\n        layer.msg(\"接口正在开发中---敬请关注······\", {type: 1, time: 3000});\n    }\n</script>\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:56:34.689] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /static/img/clogo.jpg
request client ip:  ::1
request query:  {}
response time: 6
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:56:34.748] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /welcome
request client ip:  ::1
request query:  {}
response time: 15
response status: 200
response body: 
"<!DOCTYPE HTML>\n<html>\n<title>主页</title>\n<head>\n    <meta charset=\"utf-8\">\n    <meta charset=\"utf-8\">\n    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\n    <title>后台管理系统</title>\n    <meta content=\"\" name=\"keywords\">\n    <meta content=\"\" name=\"description\">\n    <link href=\"favicon.ico\" rel=\"shortcut icon\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jsTree/style.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jqTreeGrid/jquery.treegrid.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/summernote/summernote-0.8.8.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/chosen/chosen.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"/static/js/plugins/layer/theme/default/layer.css?v=3.1.0\" id=\"layuicss-layer\">\n</head>\n<body>\n<div class=\"panel panel-default\">\n    <div class=\"panel-heading\">欢迎使用</div>\n    <div style=\"padding: 10px 0 20px 10px;\">\n        核创科技配方后台管理系统\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/jsTree/jstree.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.extension.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.bootstrap3.js\"></script>\n<script src=\"/static/js/plugins/chosen/chosen.jquery.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.js\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/common.js?v=2.0.0\"></script>\n<!--summernote-->\n<script src=\"/static/js/plugins/summernote/summernote.js\"></script>\n<script src=\"/static/js/plugins/summernote/summernote-zh-CN.min.js\"></script>\n<!-- 时间控件--->\n<script type=\"text/javascript\" src=\"/static/js/plugins/My97DatePicker/WdatePicker.js\"></script>\n\n</body>\n</html>"
*************** response log end ***************

[2019-01-10 10:56:35.064] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /favicon.ico
request client ip:  ::1
request query:  {}
response time: 2
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:58:42.868] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /
request client ip:  ::1
request query:  {}
response time: 17
response status: 200
response body: 
"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta name=\"renderer\" content=\"webkit\">\n    <title>后台管理系统</title>\n    <meta name=\"keywords\" content=\"后台管理系统\">\n    <meta name=\"description\" content=\"后台管理系统\">\n    <link rel=\"shortcut icon\" href=\"favicon.ico\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.min.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css\" rel=\"stylesheet\">\n</head>\n<body class=\"fixed-sidebar full-height-layout gray-bg\" style=\"overflow: hidden\">\n<div id=\"wrapper\">\n    <!--左侧导航开始-->\n    <nav class=\"navbar-default navbar-static-side\" role=\"navigation\" style=\"overflow: auto;\">\n        <div class=\"nav-close\">\n            <i class=\"fa fa-times-circle\"></i>\n        </div>\n        <div class=\"sidebar-collapse\">\n            <ul class=\"nav\" id=\"side-menu\">\n                <li class=\"nav-header\">\n                    <div>\n                        <span><img alt=\"image\" class=\"img-circle\" height=\"60\" width=\"60\"\n                                   src=\"/static/img/clogo.jpg\"/></span>\n                        <h3 class=\"\" style=\"color: #ffffff\">\n                            </i>后台管理系统\n                        </h3>\n                    </div>\n                    <div class=\"dropdown profile-element\">\n                        <a data-toggle=\"dropdown\" class=\"dropdown-toggle\" href=\"#\">\n                            <span class=\"clear\">\n                            <span class=\"block m-t-xs\">\n                                <strong class=\"font-bold\">admin</strong>\n                            </span>\n                            <span class=\"text-muted text-xs block\">配方管理员\n                                <b class=\"caret\"></b></span>\n                             </span>\n                        </a>\n                        <ul class=\"dropdown-menu animated fadeInRight m-t-xs\">\n                            <li><a href=\"javascript:;\" onclick=\"kfz()\">修改头像</a>\n                            </li>\n                            <li><a href=\"javascript:;\" onclick=\"kfz()\">个人资料</a>\n                            </li>\n                            <li><a href=\"javascript:;\" dz onclick=\"kfz()\">密码修改</a>\n                            </li>\n                            <li><a href=\"/signOut\">安全退出</a>\n                            </li>\n                        </ul>\n                        <div class=\"logo-element\">核创科技</div>\n                    </div>\n                </li>\n\n                <!--var icos=[-->\n                <!--'fa-desktop','fa-laptop','fa-tablet','fa-stethoscope','fa-circle-o','fa-medkit',-->\n                <!--'fa-beer','fa-suitcase','fa-coffee','fa-flash','fa-paste','fa-linkedin','fa fa-gear','fa-print','fa-bar-chart'-->\n                <!--]-->\n\n                \n                    \n                        \n                            <li><a href=\"javascript:void(0);\"><i\n                                            class=\"fa fa-qrcode\"></i>\n                                    <span\n                                            class=\"nav-label\">配方管理</span> <span\n                                            class=\"fa arrow\"></span></a>\n                                \n                                    \n                                \n                                    \n                                        <ul class=\"nav nav-second-level collapse\">\n                                            <li><a href=\"/formula/formula\" class=\"J_menuItem\"\n                                                   data-index=\"1\">配方查询</a></li>\n                                        </ul>\n                                    \n                                \n                            </li>\n                        \n                    \n                        \n                    \n                \n            </ul>\n        </div>\n    </nav>\n    <!--左侧导航结束-->\n    <!--右侧部分开始-->\n    <div id=\"page-wrapper\" class=\"gray-bg dashbard-1\">\n        <div class=\"row border-bottom\">\n            <nav class=\"navbar navbar-static-top\" role=\"navigation\" style=\"margin-bottom: 0\">\n                <div class=\"navbar-header\">\n                    <a class=\"navbar-minimalize minimalize-styl-2 btn btn-default \" href=\"#\" title=\"收起菜单\"><i\n                                class=\"fa fa-bars\"></i> </a>\n                    <form role=\"search\" class=\"navbar-form-custom\" method=\"post\" action=\"\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"请输入您需要查找的内容 …\" class=\"form-control\" name=\"top-search\"\n                                   id=\"top-search\">\n                        </div>\n                    </form>\n                </div>\n                <ul class=\"nav navbar-top-links navbar-right\">\n                    <li class=\"hidden-xs\"><a href=\"#\"><i class=\"fa fa-id-card\"></i></a></li>\n                    <li class=\"dropdown hidden-xs\"><a class=\"right-sidebar-toggle\" aria-expanded=\"false\"> <i\n                                    class=\"fa fa-tasks\"></i> 主题</a></li>\n                </ul>\n            </nav>\n        </div>\n        <div class=\"row content-tabs\">\n            <button class=\"roll-nav roll-left J_tabLeft\">\n                <i class=\"fa fa-backward\"></i>\n            </button>\n            <nav class=\"page-tabs J_menuTabs\">\n                <div class=\"page-tabs-content\">\n                    <a href=\"javascript:;\" class=\"active J_menuTab\" data-id=\"/welcome\">首页</a>\n                </div>\n            </nav>\n            <button class=\"roll-nav roll-right J_tabRight\">\n                <i class=\"fa fa-forward\"></i>\n            </button>\n            <div class=\"btn-group roll-nav roll-right\">\n                <button class=\"dropdown J_tabClose\" data-toggle=\"dropdown\">\n                    关闭操作<span class=\"caret\"></span>\n                </button>\n                <ul role=\"menu\" class=\"dropdown-menu dropdown-menu-right\">\n                    <li class=\"J_tabShowActive\"><a>定位当前选项卡</a></li>\n                    <li class=\"divider\"></li>\n                    <li class=\"J_tabCloseAll\"><a>关闭全部选项卡</a></li>\n                    <li class=\"J_tabCloseOther\"><a>关闭其他选项卡</a></li>\n                </ul>\n            </div>\n            <a href=\"/signOut\"  class=\"roll-nav roll-right J_tabExit\"><i\n                        class=\"fa fa fa-sign-out\"></i> 退出</a>\n        </div>\n        <div class=\"row J_mainContent\" id=\"content-main\">\n            <iframe class=\"J_iframe\" name=\"iframe0\" width=\"100%\" height=\"100%\" data-id=\"/welcome\" src=\"/welcome\"\n                    frameborder=\"0\">\n            </iframe>\n        </div>\n        <div class=\"footer\">\n            <div class=\"pull-right\">后台管理系统</div>\n        </div>\n    </div>\n    <!--右侧部分结束-->\n    <!--右侧边栏开始-->\n    <div id=\"right-sidebar\">\n        <div class=\"sidebar-container\">\n            <div class=\"tab-content\">\n                <div id=\"tab-1\" class=\"tab-pane active\">\n                    <div class=\"sidebar-title\">\n                        <h3><i class=\"fa fa-comments-o\"></i> 主题设置</h3>\n                        <small><i class=\"fa fa-tim\"></i>你可以从这里选择和预览主题的布局和样式，这些设置会被保存在本地，下次打开的时候会直接应用这些设置。</small>\n                    </div>\n                    <div class=\"skin-setttings\">\n                        <div class=\"title\">主题设置</div>\n                        <div class=\"setings-item\">\n                            <span>收起左侧菜单</span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"collapsemenu\" class=\"onoffswitch-checkbox\"\n                                           id=\"collapsemenu\">\n                                    <label class=\"onoffswitch-label\" for=\"collapsemenu\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"setings-item\">\n                            <span>固定顶部</span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"fixednavbar\" class=\"onoffswitch-checkbox\"\n                                           id=\"fixednavbar\">\n                                    <label class=\"onoffswitch-label\" for=\"fixednavbar\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"setings-item\">\n                            <span> 固定宽度 </span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"boxedlayout\" class=\"onoffswitch-checkbox\"\n                                           id=\"boxedlayout\">\n                                    <label class=\"onoffswitch-label\" for=\"boxedlayout\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"title\">皮肤选择</div>\n                        <div class=\"setings-item default-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-0\">默认皮肤 </a></span>\n                        </div>\n                        <div class=\"setings-item blue-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-1\">蓝色主题 </a></span>\n                        </div>\n                        <div class=\"setings-item yellow-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-3\">黄色/紫色主题 </a></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- 全局js -->\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/metisMenu/jquery.metisMenu.js\"></script>\n<script src=\"/static/js/plugins/slimscroll/jquery.slimscroll.min.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.min.js\"></script>\n<!-- 自定义js -->\n<script src=\"/static/js/app.js?v=4.1.0\"></script>\n<script type=\"text/javascript\" src=\"/static/js/contabs.js\"></script>\n<!-- 第三方插件 -->\n<script src=\"/static/js/plugins/pace/pace.min.js\"></script>\n<script>\n    function kfz() {\n        layer.msg(\"接口正在开发中---敬请关注······\", {type: 1, time: 3000});\n    }\n</script>\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:58:42.901] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /static/img/clogo.jpg
request client ip:  ::1
request query:  {}
response time: 2
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:58:42.952] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /welcome
request client ip:  ::1
request query:  {}
response time: 14
response status: 200
response body: 
"<!DOCTYPE HTML>\n<html>\n<title>主页</title>\n<head>\n    <meta charset=\"utf-8\">\n    <meta charset=\"utf-8\">\n    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\n    <title>后台管理系统</title>\n    <meta content=\"\" name=\"keywords\">\n    <meta content=\"\" name=\"description\">\n    <link href=\"favicon.ico\" rel=\"shortcut icon\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jsTree/style.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jqTreeGrid/jquery.treegrid.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/summernote/summernote-0.8.8.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/chosen/chosen.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"/static/js/plugins/layer/theme/default/layer.css?v=3.1.0\" id=\"layuicss-layer\">\n</head>\n<body>\n<div class=\"panel panel-default\">\n    <div class=\"panel-heading\">欢迎使用</div>\n    <div style=\"padding: 10px 0 20px 10px;\">\n        核创科技配方后台管理系统\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/jsTree/jstree.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.extension.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.bootstrap3.js\"></script>\n<script src=\"/static/js/plugins/chosen/chosen.jquery.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.js\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/common.js?v=2.0.0\"></script>\n<!--summernote-->\n<script src=\"/static/js/plugins/summernote/summernote.js\"></script>\n<script src=\"/static/js/plugins/summernote/summernote-zh-CN.min.js\"></script>\n<!-- 时间控件--->\n<script type=\"text/javascript\" src=\"/static/js/plugins/My97DatePicker/WdatePicker.js\"></script>\n\n</body>\n</html>"
*************** response log end ***************

[2019-01-10 10:58:43.313] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /favicon.ico
request client ip:  ::1
request query:  {}
response time: 1
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:58:44.527] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /formula/formula
request client ip:  ::1
request query:  {}
response time: 4
response status: 200
response body: 
"<!DOCTYPE HTML>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta charset=\"utf-8\">\n    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\n    <title>后台管理系统</title>\n    <meta content=\"\" name=\"keywords\">\n    <meta content=\"\" name=\"description\">\n    <link href=\"favicon.ico\" rel=\"shortcut icon\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jsTree/style.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jqTreeGrid/jquery.treegrid.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/summernote/summernote-0.8.8.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/chosen/chosen.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"/static/js/plugins/layer/theme/default/layer.css?v=3.1.0\" id=\"layuicss-layer\">\n</head>\n<style>\n    button {\n        display: none;\n    }\n\n    .mtable {\n        margin-top: 10px;\n    }\n</style>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content\">\n    <div class=\"col-sm-12\">\n        <div class=\"ibox\">\n            <div class=\"ibox-body\">\n                <div class=\"fixed-table-toolbar\">\n                    <table>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: 1px\">L:</span>\n                                <input name=\"l\" id=\"l\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"ll\" style=\"color: red;font-size: 18px;display: none\">请输入0-100之间的数L</span>\n                            </td>\n                            <td>\n                                   <span style=\"width: 10px;padding-left: 30px \">\n                                   材质名称:\n                                </span>\n                                <select data-placeholder=\"材质\" name=\"materialName\"\n                                        id=\"materialName\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"经编涤丝\">经编涤丝</option>\n                                    \n                                        <option value=\"40/2人棉\">40/2人棉</option>\n                                    \n                                        <option value=\"32S全棉\">32S全棉</option>\n                                    \n                                        <option value=\"C10S\">C10S</option>\n                                    \n                                        <option value=\"C7S\">C7S</option>\n                                    \n                                        <option value=\"R7S\">R7S</option>\n                                    \n                                        <option value=\"R32S\">R32S</option>\n                                    \n                                        <option value=\"C16S\">C16S</option>\n                                    \n                                        <option value=\"300D/DTY\">300D/DTY</option>\n                                    \n                                        <option value=\"DTY有光\">DTY有光</option>\n                                    \n                                        <option value=\"扁平丝\">扁平丝</option>\n                                    \n                                        <option value=\"超柔0.5\">超柔0.5</option>\n                                    \n                                        <option value=\"有光1.5毛\">有光1.5毛</option>\n                                    \n                                        <option value=\"丝绒\">丝绒</option>\n                                    \n                                        <option value=\"ICM-BPS\">ICM-BPS</option>\n                                    \n                                        <option value=\"ICM-CR\">ICM-CR</option>\n                                    \n                                        <option value=\"ICM-YG\">ICM-YG</option>\n                                    \n                                        <option value=\"ICM-SR\">ICM-SR</option>\n                                    \n                                        <option value=\"32T\">32T</option>\n                                    \n                                </select>\n\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>A:  </span>\n                                <input name=\"a\" id=\"a\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"aa\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数A</span>\n                            </td>\n                            <td>\n                                <span style=\"width: 10px;padding-left: 30px\">\n                                   光源名称:\n                                </span>\n                                <select data-placeholder=\"光源名称\" id=\"illuminantName\"\n                                        name=\"illuminantName\" tabindex=\"2\" aria-invalid=\"false\" disabled=\"disabled\"\n                                        style=\"width: 100px; background-color: #EEEEEE;width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>B:  </span>\n                                <input name=\"b\" id=\"b\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"bb\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数B</span>\n                            </td>\n                            <td>\n                                 <span style=\"width: 10px;padding-left: 30px \">\n                                   光源角度:\n                                </span>\n                                <select data-placeholder=\"光源角度\" name=\"angle\"\n                                        id=\"angle\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"2\"\n                                                selected>2 度角\n                                        </option>\n                                    \n                                        <option value=\"10\"\n                                                selected>10 度角\n                                        </option>\n                                    \n                                </select>\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: -4px\">dE:</span><input name=\"evl\" id=\"evl\" type=\"text\"\n                                                                                 placeholder=\"默认值1\" style=\"width: 100px\">\n                            </td>\n                            <td>\n                                     <span style=\"width: 10px;padding-left: 30px\">\n                                   配方类型:\n                                    </span>\n                                <select data-placeholder=\"配方类型\" name=\"type\" id=\"type\"\n                                        tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\" selected>全部</option>\n                                    \n                                        <option value=\"0\" selected >实验室配方</option>\n                                    \n                                        <option value=\"1\"  >车间配方</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                    </table>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"MeasurementButton\">\n                        <button class=\"btn btn-success\" onclick=\"OnMeasurementColor()\"\n                                style=\"background-color: #00B83F;margin-top: -140px;margin-left:240px;width: 80px;height: 60px;\">\n                            测色\n                        </button>\n                    </div>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"showFormula\">\n                        <button class=\"btn btn-success\" onclick=\"reLoad()\"\n                                style=\"margin-top: -140px;width: 80px;height: 60px;margin-left:-60px\">查找\n                        </button>\n                    </div>\n                </div>\n                <table id=\"exampleTable\" data-mobile-responsive=\"true\">\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/jsTree/jstree.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.extension.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.bootstrap3.js\"></script>\n<script src=\"/static/js/plugins/chosen/chosen.jquery.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.js\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/common.js?v=2.0.0\"></script>\n<!--summernote-->\n<script src=\"/static/js/plugins/summernote/summernote.js\"></script>\n<script src=\"/static/js/plugins/summernote/summernote-zh-CN.min.js\"></script>\n<!-- 时间控件--->\n<script type=\"text/javascript\" src=\"/static/js/plugins/My97DatePicker/WdatePicker.js\"></script>\n\n<script type=\"text/javascript\">\n\n    $(function () {\n        load();\n    });\n\n    function load() {\n        $('#exampleTable')\n            .bootstrapTable(\n                {\n                    method: 'post', // 服务器数据的请求方式 get or post\n                    url: \"/formula/getFormulaList\", // 服务器数据的加载地址\n                    showRefresh: false,//是否显示刷新按钮\n                    showColumns: false, // 是否显示内容下拉框（选择显示的列）\n                    showToggle: false,\n                    iconSize: 'outline',\n                    toolbar: '#exampleToolbar',\n                    striped: true, // 设置为true会有隔行变色效果\n                    dataType: \"json\", // 服务器返回的数据类型\n                    pagination: false, // 设置为true会在底部显示分页条\n                    // queryParamsType : \"limit\",\n                    // //设置为limit则会发送符合RESTFull格式的参数\n                    singleSelect: false, // 设置为true将禁止多选\n                    contentType: \"application/x-www-form-urlencoded\",\n                    // //发送到服务器的数据编码类型\n                    pageSize: 10, // 如果设置了分页，每页数据条数\n                    pageNumber: 1, // 如果设置了分布，首页页码\n                    //dataField: \"data\",//这是返回的json数组的key.默认好是\"rows\".这里只有前后端约定好就行\n                    pageList: [50, 100, 200, 500],//分页步进值\n                    search: false, // 是否显示搜索框\n                    sidePagination: \"server\", // 设置在哪里进行分页，可选值为\"client\" 或者 \"server\"\n                    queryParams: function (params) {\n                        return {\n                            model: {\n                                l: $('#l').val() || 0,\n                                a: $('#a').val() || 0,\n                                b: $('#b').val() || 0,\n                                type: $('#type').val() || 0,\n                                angle: $('#angle').val() || 0,\n                                illuminantName: $('#illuminantName').val() || '',\n                                materialName: $('#materialName').val() || '',\n                                evl: $('#evl').val() || 1,\n                            }\n                        };\n                    },\n                    columns: [\n                        {\n                            field: 'id',\n                            align: 'center',\n                            title: 'ID'\n                        },\n                        // {\n                        //     field: 'colorantModel.rgb',\n                        //     align: 'center',\n                        //     title: '颜色'\n                        // },\n                        {\n                            field: 'name',\n                            align: 'center',\n                            title: '配方名称'\n                        },\n                        {\n                            field: 'illuminantName',\n                            align: 'center',\n                            title: '光源名称'\n                        },\n                        {\n                            field: 'sampleName',\n                            align: 'center',\n                            title: '色样号'\n                        },\n                        {\n                            field: 'type',\n                            align: 'center',\n                            title: '配方类型',\n                            formatter: function (value, row, index) {\n                                if (value == '1') {\n                                    return \"车间配方\";\n\n                                } else if (value == '0') {\n                                    return \"实验室配方\";\n\n                                } else {\n                                    return \"不详\";\n                                }\n                            }\n                        }\n                        ,\n                        {\n                            field: 'evl',\n                            align: 'center',\n                            title: '色差',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        }\n                        ,\n                        {\n                            field: 'l',\n                            align: 'center',\n                            title: 'L',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'a',\n                            align: 'center',\n                            title: 'A',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'b',\n                            align: 'center',\n                            title: 'B',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'materialName',\n                            align: 'center',\n                            title: '材质名称'\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].concentration;\n                                }\n                                return \"\";\n                            }\n                        }\n                        ,\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].concentration;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[2]) {\n                                    return value[2].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value.length == 3) {\n                                    return value[2].concentration;\n                                }\n                                if (value.length > 3) {\n                                    var a = '<a href=\"javascript:void(0);\" mce_href=\"#\"  title=\"浓度\" onclick=\"showAll(' + row.id + ')\">...</i></a> ';\n                                    return a;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            title: '操作',\n                            field: '',\n                            align: 'center',\n                            formatter: function (value, row, index) {\n                                var e = '<a class=\"btn btn-primary btn-sm\" target=\"_blank\" href=\"/formula/showFormulaById/?id=' + row.id + '\" mce_href=\"#\"  title=\"查看\" >详情<i class=\"fa fa-edit\"></i></a> ';\n                                var d = '<a class=\"btn btn-warning btn-sm\" href=\"#\" title=\"删除\"  mce_href=\"#\" onclick=\"remove(\\'' + row.id + '\\')\">删除<i class=\"fa fa-remove\"></i></a> ';\n                                return e + d;\n                            }\n                        }\n                    ],\n                    onLoadSuccess: function () {  //加载成功时执行\n                        // layer.msg(\"加载成功\", {time: 1, icon: 1});\n                    },\n                    onLoadError: function () {  //加载失败时执行\n                        layer.msg(\"加载数据失败\", {time: 1500, icon: 2});\n                    }\n                });\n    }\n    MeasurementButton\n    function reLoad() {\n        if (parseFloat($(\"#l\").val()) > 100 || parseFloat($(\"#l\").val()) < 0) {\n            $(\"#ll\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:270px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#ll\").hide()\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#a\").val()) > 127 || parseFloat($(\"#a\").val()) < -128) {\n            $(\"#aa\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:300px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#aa\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#b\").val()) > 127 || parseFloat($(\"#b\").val()) < -128) {\n            $(\"#bb\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:295px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#bb\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        $('#exampleTable').bootstrapTable('refresh');\n    }\n\n    /** 查看通过配方id **/\n    function showFormulaById(id) {\n        layer.open({\n            type: 2,\n            title: '配方详情页',\n            maxmin: true,\n            shadeClose: false, // 点击遮罩关闭层\n            area: ['100%', '100%'],\n            content: '/formula/showFormulaById/?id=' + id\n        });\n    }\n\n    function remove(id) {\n        layer.confirm('确认删除此此配方吗？', {\n            btn: ['确定', '取消']\n        }, function () {\n            $.ajax({\n                url: \"/formula/removeFormulaById\",\n                type: \"post\",\n                data: {\n                    model: {id: id}\n                }, success: function (res) {\n                    if (res.code == 1) {\n                        layer.msg(res.message);\n                        reLoad();\n                    } else {\n                        layer.msg(res.message);\n                    }\n                }\n            });\n        })\n    }\n\n    function showAll(id) {\n        layer.open({\n            type: 2,\n            title: '配方浓度表',\n            maxmin: true,\n            shadeClose: true, // 点击遮罩关闭层\n            area: ['40%', '60%'],\n            content: '/formula/concentration/?formulaId=' + id\n        });\n    }\n\n    function showMeasurementButton() {\n\n        $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;visibility:visible\");\n    }\n    //验证字符串是否是数字\n    function checkNumber(theObj) {\n        var reg = /^[0-9]+.?[0-9]*$/;\n        if (reg.test(theObj)) {\n            return true;\n        }\n        return false;\n    }\n\n    //获得LAB值\n    function getLABFromClient(l, a, b) {\n        $(\"#l\").val(l);\n        $(\"#a\").val(a);\n        $(\"#b\").val(b);\n    }\n</script>\n\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:58:44.690] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 2
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:58:47.584] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /formula/formula
request client ip:  ::1
request query:  {}
response time: 5
response status: 200
response body: 
"<!DOCTYPE HTML>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta charset=\"utf-8\">\n    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\n    <title>后台管理系统</title>\n    <meta content=\"\" name=\"keywords\">\n    <meta content=\"\" name=\"description\">\n    <link href=\"favicon.ico\" rel=\"shortcut icon\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jsTree/style.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jqTreeGrid/jquery.treegrid.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/summernote/summernote-0.8.8.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/chosen/chosen.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"/static/js/plugins/layer/theme/default/layer.css?v=3.1.0\" id=\"layuicss-layer\">\n</head>\n<style>\n    button {\n        display: none;\n    }\n\n    .mtable {\n        margin-top: 10px;\n    }\n</style>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content\">\n    <div class=\"col-sm-12\">\n        <div class=\"ibox\">\n            <div class=\"ibox-body\">\n                <div class=\"fixed-table-toolbar\">\n                    <table>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: 1px\">L:</span>\n                                <input name=\"l\" id=\"l\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"ll\" style=\"color: red;font-size: 18px;display: none\">请输入0-100之间的数L</span>\n                            </td>\n                            <td>\n                                   <span style=\"width: 10px;padding-left: 30px \">\n                                   材质名称:\n                                </span>\n                                <select data-placeholder=\"材质\" name=\"materialName\"\n                                        id=\"materialName\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"经编涤丝\">经编涤丝</option>\n                                    \n                                        <option value=\"40/2人棉\">40/2人棉</option>\n                                    \n                                        <option value=\"32S全棉\">32S全棉</option>\n                                    \n                                        <option value=\"C10S\">C10S</option>\n                                    \n                                        <option value=\"C7S\">C7S</option>\n                                    \n                                        <option value=\"R7S\">R7S</option>\n                                    \n                                        <option value=\"R32S\">R32S</option>\n                                    \n                                        <option value=\"C16S\">C16S</option>\n                                    \n                                        <option value=\"300D/DTY\">300D/DTY</option>\n                                    \n                                        <option value=\"DTY有光\">DTY有光</option>\n                                    \n                                        <option value=\"扁平丝\">扁平丝</option>\n                                    \n                                        <option value=\"超柔0.5\">超柔0.5</option>\n                                    \n                                        <option value=\"有光1.5毛\">有光1.5毛</option>\n                                    \n                                        <option value=\"丝绒\">丝绒</option>\n                                    \n                                        <option value=\"ICM-BPS\">ICM-BPS</option>\n                                    \n                                        <option value=\"ICM-CR\">ICM-CR</option>\n                                    \n                                        <option value=\"ICM-YG\">ICM-YG</option>\n                                    \n                                        <option value=\"ICM-SR\">ICM-SR</option>\n                                    \n                                        <option value=\"32T\">32T</option>\n                                    \n                                </select>\n\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>A:  </span>\n                                <input name=\"a\" id=\"a\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"aa\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数A</span>\n                            </td>\n                            <td>\n                                <span style=\"width: 10px;padding-left: 30px\">\n                                   光源名称:\n                                </span>\n                                <select data-placeholder=\"光源名称\" id=\"illuminantName\"\n                                        name=\"illuminantName\" tabindex=\"2\" aria-invalid=\"false\" disabled=\"disabled\"\n                                        style=\"width: 100px; background-color: #EEEEEE;width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>B:  </span>\n                                <input name=\"b\" id=\"b\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"bb\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数B</span>\n                            </td>\n                            <td>\n                                 <span style=\"width: 10px;padding-left: 30px \">\n                                   光源角度:\n                                </span>\n                                <select data-placeholder=\"光源角度\" name=\"angle\"\n                                        id=\"angle\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"2\"\n                                                selected>2 度角\n                                        </option>\n                                    \n                                        <option value=\"10\"\n                                                selected>10 度角\n                                        </option>\n                                    \n                                </select>\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: -4px\">dE:</span><input name=\"evl\" id=\"evl\" type=\"text\"\n                                                                                 placeholder=\"默认值1\" style=\"width: 100px\">\n                            </td>\n                            <td>\n                                     <span style=\"width: 10px;padding-left: 30px\">\n                                   配方类型:\n                                    </span>\n                                <select data-placeholder=\"配方类型\" name=\"type\" id=\"type\"\n                                        tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\" selected>全部</option>\n                                    \n                                        <option value=\"0\" selected >实验室配方</option>\n                                    \n                                        <option value=\"1\"  >车间配方</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                    </table>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"MeasurementButton\">\n                        <button class=\"btn btn-success\" onclick=\"OnMeasurementColor()\"\n                                style=\"background-color: #00B83F;margin-top: -140px;margin-left:240px;width: 80px;height: 60px;\">\n                            测色\n                        </button>\n                    </div>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"showFormula\">\n                        <button class=\"btn btn-success\" onclick=\"reLoad()\"\n                                style=\"margin-top: -140px;width: 80px;height: 60px;margin-left:-60px\">查找\n                        </button>\n                    </div>\n                </div>\n                <table id=\"exampleTable\" data-mobile-responsive=\"true\">\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/jsTree/jstree.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.extension.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.bootstrap3.js\"></script>\n<script src=\"/static/js/plugins/chosen/chosen.jquery.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.js\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/common.js?v=2.0.0\"></script>\n<!--summernote-->\n<script src=\"/static/js/plugins/summernote/summernote.js\"></script>\n<script src=\"/static/js/plugins/summernote/summernote-zh-CN.min.js\"></script>\n<!-- 时间控件--->\n<script type=\"text/javascript\" src=\"/static/js/plugins/My97DatePicker/WdatePicker.js\"></script>\n\n<script type=\"text/javascript\">\n\n    $(function () {\n        load();\n    });\n\n    function load() {\n        $('#exampleTable')\n            .bootstrapTable(\n                {\n                    method: 'post', // 服务器数据的请求方式 get or post\n                    url: \"/formula/getFormulaList\", // 服务器数据的加载地址\n                    showRefresh: false,//是否显示刷新按钮\n                    showColumns: false, // 是否显示内容下拉框（选择显示的列）\n                    showToggle: false,\n                    iconSize: 'outline',\n                    toolbar: '#exampleToolbar',\n                    striped: true, // 设置为true会有隔行变色效果\n                    dataType: \"json\", // 服务器返回的数据类型\n                    pagination: false, // 设置为true会在底部显示分页条\n                    // queryParamsType : \"limit\",\n                    // //设置为limit则会发送符合RESTFull格式的参数\n                    singleSelect: false, // 设置为true将禁止多选\n                    contentType: \"application/x-www-form-urlencoded\",\n                    // //发送到服务器的数据编码类型\n                    pageSize: 10, // 如果设置了分页，每页数据条数\n                    pageNumber: 1, // 如果设置了分布，首页页码\n                    //dataField: \"data\",//这是返回的json数组的key.默认好是\"rows\".这里只有前后端约定好就行\n                    pageList: [50, 100, 200, 500],//分页步进值\n                    search: false, // 是否显示搜索框\n                    sidePagination: \"server\", // 设置在哪里进行分页，可选值为\"client\" 或者 \"server\"\n                    queryParams: function (params) {\n                        return {\n                            model: {\n                                l: $('#l').val() || 0,\n                                a: $('#a').val() || 0,\n                                b: $('#b').val() || 0,\n                                type: $('#type').val() || 0,\n                                angle: $('#angle').val() || 0,\n                                illuminantName: $('#illuminantName').val() || '',\n                                materialName: $('#materialName').val() || '',\n                                evl: $('#evl').val() || 1,\n                            }\n                        };\n                    },\n                    columns: [\n                        {\n                            field: 'id',\n                            align: 'center',\n                            title: 'ID'\n                        },\n                        // {\n                        //     field: 'colorantModel.rgb',\n                        //     align: 'center',\n                        //     title: '颜色'\n                        // },\n                        {\n                            field: 'name',\n                            align: 'center',\n                            title: '配方名称'\n                        },\n                        {\n                            field: 'illuminantName',\n                            align: 'center',\n                            title: '光源名称'\n                        },\n                        {\n                            field: 'sampleName',\n                            align: 'center',\n                            title: '色样号'\n                        },\n                        {\n                            field: 'type',\n                            align: 'center',\n                            title: '配方类型',\n                            formatter: function (value, row, index) {\n                                if (value == '1') {\n                                    return \"车间配方\";\n\n                                } else if (value == '0') {\n                                    return \"实验室配方\";\n\n                                } else {\n                                    return \"不详\";\n                                }\n                            }\n                        }\n                        ,\n                        {\n                            field: 'evl',\n                            align: 'center',\n                            title: '色差',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        }\n                        ,\n                        {\n                            field: 'l',\n                            align: 'center',\n                            title: 'L',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'a',\n                            align: 'center',\n                            title: 'A',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'b',\n                            align: 'center',\n                            title: 'B',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'materialName',\n                            align: 'center',\n                            title: '材质名称'\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].concentration;\n                                }\n                                return \"\";\n                            }\n                        }\n                        ,\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].concentration;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[2]) {\n                                    return value[2].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value.length == 3) {\n                                    return value[2].concentration;\n                                }\n                                if (value.length > 3) {\n                                    var a = '<a href=\"javascript:void(0);\" mce_href=\"#\"  title=\"浓度\" onclick=\"showAll(' + row.id + ')\">...</i></a> ';\n                                    return a;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            title: '操作',\n                            field: '',\n                            align: 'center',\n                            formatter: function (value, row, index) {\n                                var e = '<a class=\"btn btn-primary btn-sm\" target=\"_blank\" href=\"/formula/showFormulaById/?id=' + row.id + '\" mce_href=\"#\"  title=\"查看\" >详情<i class=\"fa fa-edit\"></i></a> ';\n                                var d = '<a class=\"btn btn-warning btn-sm\" href=\"#\" title=\"删除\"  mce_href=\"#\" onclick=\"remove(\\'' + row.id + '\\')\">删除<i class=\"fa fa-remove\"></i></a> ';\n                                return e + d;\n                            }\n                        }\n                    ],\n                    onLoadSuccess: function () {  //加载成功时执行\n                        // layer.msg(\"加载成功\", {time: 1, icon: 1});\n                    },\n                    onLoadError: function () {  //加载失败时执行\n                        layer.msg(\"加载数据失败\", {time: 1500, icon: 2});\n                    }\n                });\n    }\n    MeasurementButton\n    function reLoad() {\n        if (parseFloat($(\"#l\").val()) > 100 || parseFloat($(\"#l\").val()) < 0) {\n            $(\"#ll\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:270px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#ll\").hide()\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#a\").val()) > 127 || parseFloat($(\"#a\").val()) < -128) {\n            $(\"#aa\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:300px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#aa\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#b\").val()) > 127 || parseFloat($(\"#b\").val()) < -128) {\n            $(\"#bb\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:295px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#bb\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        $('#exampleTable').bootstrapTable('refresh');\n    }\n\n    /** 查看通过配方id **/\n    function showFormulaById(id) {\n        layer.open({\n            type: 2,\n            title: '配方详情页',\n            maxmin: true,\n            shadeClose: false, // 点击遮罩关闭层\n            area: ['100%', '100%'],\n            content: '/formula/showFormulaById/?id=' + id\n        });\n    }\n\n    function remove(id) {\n        layer.confirm('确认删除此此配方吗？', {\n            btn: ['确定', '取消']\n        }, function () {\n            $.ajax({\n                url: \"/formula/removeFormulaById\",\n                type: \"post\",\n                data: {\n                    model: {id: id}\n                }, success: function (res) {\n                    if (res.code == 1) {\n                        layer.msg(res.message);\n                        reLoad();\n                    } else {\n                        layer.msg(res.message);\n                    }\n                }\n            });\n        })\n    }\n\n    function showAll(id) {\n        layer.open({\n            type: 2,\n            title: '配方浓度表',\n            maxmin: true,\n            shadeClose: true, // 点击遮罩关闭层\n            area: ['40%', '60%'],\n            content: '/formula/concentration/?formulaId=' + id\n        });\n    }\n\n    function showMeasurementButton() {\n\n        $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;visibility:visible\");\n    }\n    //验证字符串是否是数字\n    function checkNumber(theObj) {\n        var reg = /^[0-9]+.?[0-9]*$/;\n        if (reg.test(theObj)) {\n            return true;\n        }\n        return false;\n    }\n\n    //获得LAB值\n    function getLABFromClient(l, a, b) {\n        $(\"#l\").val(l);\n        $(\"#a\").val(a);\n        $(\"#b\").val(b);\n    }\n</script>\n\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:58:47.748] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 1
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:58:51.846] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /formula/formula
request client ip:  ::1
request query:  {}
response time: 4
response status: 200
response body: 
"<!DOCTYPE HTML>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta charset=\"utf-8\">\n    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\n    <title>后台管理系统</title>\n    <meta content=\"\" name=\"keywords\">\n    <meta content=\"\" name=\"description\">\n    <link href=\"favicon.ico\" rel=\"shortcut icon\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jsTree/style.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jqTreeGrid/jquery.treegrid.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/summernote/summernote-0.8.8.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/chosen/chosen.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"/static/js/plugins/layer/theme/default/layer.css?v=3.1.0\" id=\"layuicss-layer\">\n</head>\n<style>\n    button {\n        display: none;\n    }\n\n    .mtable {\n        margin-top: 10px;\n    }\n</style>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content\">\n    <div class=\"col-sm-12\">\n        <div class=\"ibox\">\n            <div class=\"ibox-body\">\n                <div class=\"fixed-table-toolbar\">\n                    <table>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: 1px\">L:</span>\n                                <input name=\"l\" id=\"l\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"ll\" style=\"color: red;font-size: 18px;display: none\">请输入0-100之间的数L</span>\n                            </td>\n                            <td>\n                                   <span style=\"width: 10px;padding-left: 30px \">\n                                   材质名称:\n                                </span>\n                                <select data-placeholder=\"材质\" name=\"materialName\"\n                                        id=\"materialName\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"经编涤丝\">经编涤丝</option>\n                                    \n                                        <option value=\"40/2人棉\">40/2人棉</option>\n                                    \n                                        <option value=\"32S全棉\">32S全棉</option>\n                                    \n                                        <option value=\"C10S\">C10S</option>\n                                    \n                                        <option value=\"C7S\">C7S</option>\n                                    \n                                        <option value=\"R7S\">R7S</option>\n                                    \n                                        <option value=\"R32S\">R32S</option>\n                                    \n                                        <option value=\"C16S\">C16S</option>\n                                    \n                                        <option value=\"300D/DTY\">300D/DTY</option>\n                                    \n                                        <option value=\"DTY有光\">DTY有光</option>\n                                    \n                                        <option value=\"扁平丝\">扁平丝</option>\n                                    \n                                        <option value=\"超柔0.5\">超柔0.5</option>\n                                    \n                                        <option value=\"有光1.5毛\">有光1.5毛</option>\n                                    \n                                        <option value=\"丝绒\">丝绒</option>\n                                    \n                                        <option value=\"ICM-BPS\">ICM-BPS</option>\n                                    \n                                        <option value=\"ICM-CR\">ICM-CR</option>\n                                    \n                                        <option value=\"ICM-YG\">ICM-YG</option>\n                                    \n                                        <option value=\"ICM-SR\">ICM-SR</option>\n                                    \n                                        <option value=\"32T\">32T</option>\n                                    \n                                </select>\n\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>A:  </span>\n                                <input name=\"a\" id=\"a\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"aa\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数A</span>\n                            </td>\n                            <td>\n                                <span style=\"width: 10px;padding-left: 30px\">\n                                   光源名称:\n                                </span>\n                                <select data-placeholder=\"光源名称\" id=\"illuminantName\"\n                                        name=\"illuminantName\" tabindex=\"2\" aria-invalid=\"false\" disabled=\"disabled\"\n                                        style=\"width: 100px; background-color: #EEEEEE;width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>B:  </span>\n                                <input name=\"b\" id=\"b\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"bb\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数B</span>\n                            </td>\n                            <td>\n                                 <span style=\"width: 10px;padding-left: 30px \">\n                                   光源角度:\n                                </span>\n                                <select data-placeholder=\"光源角度\" name=\"angle\"\n                                        id=\"angle\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"2\"\n                                                selected>2 度角\n                                        </option>\n                                    \n                                        <option value=\"10\"\n                                                selected>10 度角\n                                        </option>\n                                    \n                                </select>\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: -4px\">dE:</span><input name=\"evl\" id=\"evl\" type=\"text\"\n                                                                                 placeholder=\"默认值1\" style=\"width: 100px\">\n                            </td>\n                            <td>\n                                     <span style=\"width: 10px;padding-left: 30px\">\n                                   配方类型:\n                                    </span>\n                                <select data-placeholder=\"配方类型\" name=\"type\" id=\"type\"\n                                        tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\" selected>全部</option>\n                                    \n                                        <option value=\"0\" selected >实验室配方</option>\n                                    \n                                        <option value=\"1\"  >车间配方</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                    </table>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"MeasurementButton\">\n                        <button class=\"btn btn-success\" onclick=\"OnMeasurementColor()\"\n                                style=\"background-color: #00B83F;margin-top: -140px;margin-left:240px;width: 80px;height: 60px;\">\n                            测色\n                        </button>\n                    </div>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"showFormula\">\n                        <button class=\"btn btn-success\" onclick=\"reLoad()\"\n                                style=\"margin-top: -140px;width: 80px;height: 60px;margin-left:-60px\">查找\n                        </button>\n                    </div>\n                </div>\n                <table id=\"exampleTable\" data-mobile-responsive=\"true\">\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/jsTree/jstree.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.extension.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.bootstrap3.js\"></script>\n<script src=\"/static/js/plugins/chosen/chosen.jquery.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.js\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/common.js?v=2.0.0\"></script>\n<!--summernote-->\n<script src=\"/static/js/plugins/summernote/summernote.js\"></script>\n<script src=\"/static/js/plugins/summernote/summernote-zh-CN.min.js\"></script>\n<!-- 时间控件--->\n<script type=\"text/javascript\" src=\"/static/js/plugins/My97DatePicker/WdatePicker.js\"></script>\n\n<script type=\"text/javascript\">\n\n    $(function () {\n        load();\n    });\n\n    function load() {\n        $('#exampleTable')\n            .bootstrapTable(\n                {\n                    method: 'post', // 服务器数据的请求方式 get or post\n                    url: \"/formula/getFormulaList\", // 服务器数据的加载地址\n                    showRefresh: false,//是否显示刷新按钮\n                    showColumns: false, // 是否显示内容下拉框（选择显示的列）\n                    showToggle: false,\n                    iconSize: 'outline',\n                    toolbar: '#exampleToolbar',\n                    striped: true, // 设置为true会有隔行变色效果\n                    dataType: \"json\", // 服务器返回的数据类型\n                    pagination: false, // 设置为true会在底部显示分页条\n                    // queryParamsType : \"limit\",\n                    // //设置为limit则会发送符合RESTFull格式的参数\n                    singleSelect: false, // 设置为true将禁止多选\n                    contentType: \"application/x-www-form-urlencoded\",\n                    // //发送到服务器的数据编码类型\n                    pageSize: 10, // 如果设置了分页，每页数据条数\n                    pageNumber: 1, // 如果设置了分布，首页页码\n                    //dataField: \"data\",//这是返回的json数组的key.默认好是\"rows\".这里只有前后端约定好就行\n                    pageList: [50, 100, 200, 500],//分页步进值\n                    search: false, // 是否显示搜索框\n                    sidePagination: \"server\", // 设置在哪里进行分页，可选值为\"client\" 或者 \"server\"\n                    queryParams: function (params) {\n                        return {\n                            model: {\n                                l: $('#l').val() || 0,\n                                a: $('#a').val() || 0,\n                                b: $('#b').val() || 0,\n                                type: $('#type').val() || 0,\n                                angle: $('#angle').val() || 0,\n                                illuminantName: $('#illuminantName').val() || '',\n                                materialName: $('#materialName').val() || '',\n                                evl: $('#evl').val() || 1,\n                            }\n                        };\n                    },\n                    columns: [\n                        {\n                            field: 'id',\n                            align: 'center',\n                            title: 'ID'\n                        },\n                        // {\n                        //     field: 'colorantModel.rgb',\n                        //     align: 'center',\n                        //     title: '颜色'\n                        // },\n                        {\n                            field: 'name',\n                            align: 'center',\n                            title: '配方名称'\n                        },\n                        {\n                            field: 'illuminantName',\n                            align: 'center',\n                            title: '光源名称'\n                        },\n                        {\n                            field: 'sampleName',\n                            align: 'center',\n                            title: '色样号'\n                        },\n                        {\n                            field: 'type',\n                            align: 'center',\n                            title: '配方类型',\n                            formatter: function (value, row, index) {\n                                if (value == '1') {\n                                    return \"车间配方\";\n\n                                } else if (value == '0') {\n                                    return \"实验室配方\";\n\n                                } else {\n                                    return \"不详\";\n                                }\n                            }\n                        }\n                        ,\n                        {\n                            field: 'evl',\n                            align: 'center',\n                            title: '色差',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        }\n                        ,\n                        {\n                            field: 'l',\n                            align: 'center',\n                            title: 'L',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'a',\n                            align: 'center',\n                            title: 'A',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'b',\n                            align: 'center',\n                            title: 'B',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'materialName',\n                            align: 'center',\n                            title: '材质名称'\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].concentration;\n                                }\n                                return \"\";\n                            }\n                        }\n                        ,\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].concentration;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[2]) {\n                                    return value[2].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value.length == 3) {\n                                    return value[2].concentration;\n                                }\n                                if (value.length > 3) {\n                                    var a = '<a href=\"javascript:void(0);\" mce_href=\"#\"  title=\"浓度\" onclick=\"showAll(' + row.id + ')\">...</i></a> ';\n                                    return a;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            title: '操作',\n                            field: '',\n                            align: 'center',\n                            formatter: function (value, row, index) {\n                                var e = '<a class=\"btn btn-primary btn-sm\" target=\"_blank\" href=\"/formula/showFormulaById/?id=' + row.id + '\" mce_href=\"#\"  title=\"查看\" >详情<i class=\"fa fa-edit\"></i></a> ';\n                                var d = '<a class=\"btn btn-warning btn-sm\" href=\"#\" title=\"删除\"  mce_href=\"#\" onclick=\"remove(\\'' + row.id + '\\')\">删除<i class=\"fa fa-remove\"></i></a> ';\n                                return e + d;\n                            }\n                        }\n                    ],\n                    onLoadSuccess: function () {  //加载成功时执行\n                        // layer.msg(\"加载成功\", {time: 1, icon: 1});\n                    },\n                    onLoadError: function () {  //加载失败时执行\n                        layer.msg(\"加载数据失败\", {time: 1500, icon: 2});\n                    }\n                });\n    }\n    MeasurementButton\n    function reLoad() {\n        if (parseFloat($(\"#l\").val()) > 100 || parseFloat($(\"#l\").val()) < 0) {\n            $(\"#ll\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:270px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#ll\").hide()\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#a\").val()) > 127 || parseFloat($(\"#a\").val()) < -128) {\n            $(\"#aa\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:300px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#aa\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#b\").val()) > 127 || parseFloat($(\"#b\").val()) < -128) {\n            $(\"#bb\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:295px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#bb\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        $('#exampleTable').bootstrapTable('refresh');\n    }\n\n    /** 查看通过配方id **/\n    function showFormulaById(id) {\n        layer.open({\n            type: 2,\n            title: '配方详情页',\n            maxmin: true,\n            shadeClose: false, // 点击遮罩关闭层\n            area: ['100%', '100%'],\n            content: '/formula/showFormulaById/?id=' + id\n        });\n    }\n\n    function remove(id) {\n        layer.confirm('确认删除此此配方吗？', {\n            btn: ['确定', '取消']\n        }, function () {\n            $.ajax({\n                url: \"/formula/removeFormulaById\",\n                type: \"post\",\n                data: {\n                    model: {id: id}\n                }, success: function (res) {\n                    if (res.code == 1) {\n                        layer.msg(res.message);\n                        reLoad();\n                    } else {\n                        layer.msg(res.message);\n                    }\n                }\n            });\n        })\n    }\n\n    function showAll(id) {\n        layer.open({\n            type: 2,\n            title: '配方浓度表',\n            maxmin: true,\n            shadeClose: true, // 点击遮罩关闭层\n            area: ['40%', '60%'],\n            content: '/formula/concentration/?formulaId=' + id\n        });\n    }\n\n    function showMeasurementButton() {\n\n        $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;visibility:visible\");\n    }\n    //验证字符串是否是数字\n    function checkNumber(theObj) {\n        var reg = /^[0-9]+.?[0-9]*$/;\n        if (reg.test(theObj)) {\n            return true;\n        }\n        return false;\n    }\n\n    //获得LAB值\n    function getLABFromClient(l, a, b) {\n        $(\"#l\").val(l);\n        $(\"#a\").val(a);\n        $(\"#b\").val(b);\n    }\n</script>\n\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:58:52.007] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 1
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:58:57.240] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /signOut
request client ip:  ::1
request query:  {}
response time: 3
response status: 200
response body: 
"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n    <title>后台管理系统</title>\n    <meta name=\"keywords\" content=\"后台管理系统\">\n    <meta name=\"description\" content=\"后台管理系统\">\n    <link href=\"/static/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/login.css\" rel=\"stylesheet\">\n    <script>\n        if (window.top !== window.self) {\n            window.top.location = window.location;\n        }\n    </script>\n</head>\n<body class=\"signin\">\n<div class=\"signinpanel\">\n    <div class=\"row\">\n        <div class=\"col-sm-7\">\n            <div class=\"signin-info\">\n                <div class=\"logopanel m-b\">\n                    <h1>杭州核创科技有限公司</h1>\n                </div>\n                <div class=\"m-b\"></div>\n                <h3>\n                    欢迎使用 <strong>后台管理系统</strong>\n                </h3>\n                <!--<ul class=\"m-b\">-->\n                <!--<li><i class=\"fa fa-arrow-circle-o-right m-r-xs\"></i> financial platform</li>-->\n                <!--<li><i class=\"fa fa-arrow-circle-o-right m-r-xs\"></i> investment banking</li>-->\n                <!--<li><i class=\"fa fa-arrow-circle-o-right m-r-xs\"></i> loan</li>-->\n                <!--</ul>-->\n            </div>\n        </div>\n        <div class=\"col-sm-5\">\n            <form id=\"signupForm\">\n                <input type=\"hidden\" name=\"type\"  value=\"pc\" />\n                <h3 class=\"text-center\">用户登录</h3>\n                <p class=\"m-t-md text-center\">欢迎登录后台管理系统</p>\n                <input type=\"text\" name=\"username\" class=\"form-control uname\" value=\"\" placeholder=\"用户名\"/>\n                <input type=\"password\" name=\"password\" class=\"form-control pword m-b\" value=\"\"\n                       placeholder=\"密码\"/>\n                <!--<input type=\"text\"  name=\"imgCode\" class=\"form-control pword m-b\" value=\"\" placeholder=\"图片验证码\" style=\"width: 65%!important;\"/>-->\n                <!--<i class=\"imgcode\" style=\"background-color: white; float: right;width: 31%;margin-top: -49px;\">-->\n                <!--<img onclick=\"reloadImgCode(this)\" id=\"picCode\" style=\"width:100%;height:34px;\" class=\"refresh\" src=\"/getImgCode\"/>-->\n                <!--</i>-->\n                <a id=\"login\" data-loading=\"正在验证登录，请稍后...\" class=\"btn btn-login btn-block\">登录</a>\n                <!--按钮模块-->\n                <div class=\"outside-login\">\n                    <!--<div class=\"outside-login-cot\">-->\n                    <!---->\n                    <!--</div>-->\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class=\"signup-footer\">\n        <div class=\"pull-left\">&copy; 2018 All Rights Reserved. zzhu\n        </div>\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.min.js\"></script>\n<script type=\"text/javascript\">\n    $(document).keypress(function (event) {\n        var code = (event.keyCode ? event.keyCode : event.which);\n        if (code == '13') {\n            login();\n        }\n    });\n\n    function reloadImgCode(obj) {\n        $(obj).attr(\"src\", \"/getImgCode?t=\" + new Date().getTime());\n    }\n\n    $(document).ready(function () {\n        $(\"#login\").on('click', function () {\n            $(\"#signupForm\").submit();\n        });\n        validateRule();\n    });\n\n    $.validator.setDefaults({\n        submitHandler: function () {\n            login();\n        }\n    });\n\n    function login() {\n        layer.open({\n            type: 1,\n            title: $(\"#login\").attr(\"data-loading\"),\n            closeBtn: false,\n            time: 5000, //2秒后自动关闭\n            fixed: false,\n            shadeClose: false, //开启遮罩关闭\n            end: function () {\n                $.ajax({\n                    type: \"POST\",\n                    url: \"/signInPC\",\n                    data: $('#signupForm').serialize(),\n                    timeout:200,\n                    success: function (res) {\n                        if (res.address && res.port > 0) {\n                            layer.msg(\"服务地址为：\" + res.address + \":\" + res.port + \"--连接失败\", {time: 3500});\n                        } else {\n                            if (res.code == 1&&res.data) {\n                                layer.msg(\"登录成功\", {time: 1000}, function () {\n                                    parent.location.href = '/';\n                                });\n                            } else {\n                                layer.msg(res.message, {time: 2000}, function () {\n                                });\n                            }\n\n                        }\n                    },\n                    error: function (xhr) {\n                        layer.closeAll('loading');\n                        if (xhr.status == 400) {\n                            layer.msg('账号或密码错误', {time: 900});\n                        }else if( xhr.status  == 500){\n                            layer.msg('http://192.168.2.84:8080    '+':服务器异常,请联系管理员', {time: 900});\n                        }else if( xhr.status  == 0){\n                            layer.msg('http://192.168.2.84:8080    '+\"\\n\"+':网关异常,请联系管理员', {time: 2000});\n                        }\n                    }\n\n                });\n            }\n        });\n\n    }\n\n    // function login() {\n    //     $.ajax({\n    //         type: \"POST\",\n    //         url: \"/checkImageCode\",\n    //         data: $('#signupForm').serialize(),\n    //         success: function (response) {\n    //             if (response.code == 1) {\n    //                 $.ajax({\n    //                     type: \"POST\",\n    //                     url: \"/signIn\",\n    //                     data: $('#signupForm').serialize(),\n    //                     success: function (res) {\n    //                         if(res.address&&res.port>0){\n    //                             layer.msg(\"服务地址为：\"+res.address+\":\"+res.port+\"--连接失败\",{time:3500});\n    //                         }else{\n    //                             layer.open({\n    //                                 type: 1,\n    //                                 title: $(\"#login\").attr(\"data-loading\") ,\n    //                                 closeBtn:false,\n    //                                 time: 2000, //2秒后自动关闭\n    //                                 fixed: true,\n    //                                 shadeClose: true, //开启遮罩关闭\n    //                                 end:function () {\n    //                                     if (res.code == 1) {\n    //                                         var index = layer.load(1, {\n    //                                             shade: [0,'#fff'] //0.1透明度的白色背景\n    //                                         });\n    //                                         layer.msg(\"登录成功\",{time:1000},function(){\n    //                                             parent.location.href = '/';\n    //                                         });\n    //                                     } else {\n    //                                         layer.msg(res.message,{time:2000},function(){\n    //                                         });\n    //                                     }\n    //                                 }\n    //                             });\n    //                         }\n    //\n    //                     },\n    //                     timeout:3000,\n    //                     global:false,\n    //                     error:function(xhr,errorText,errorType){\n    //                         layer.msg(errorType.toString()+\"---\"+xhr.status,{time:2000});\n    //                     }\n    //                 });\n    //             } else {\n    //                 reloadImgCode($(\"#picCode\"));\n    //                 layer.msg(response.message,{time:2000},function(){\n    //\n    //                 });\n    //             }\n    //         }\n    //     });\n    // }\n\n    /*  required: \"必选字段\",\n        remote: \"请修正该字段\",\n        email: \"请输入正确格式的电子邮件\",\n        url: \"请输入合法的网址\",\n        date: \"请输入合法的日期\",\n        dateISO: \"请输入合法的日期 (ISO).\",\n        number: \"请输入合法的数字\",\n        digits: \"只能输入整数\",\n        creditcard: \"请输入合法的信用卡号\",\n        equalTo: \"请再次输入相同的值\",\n        accept: \"请输入拥有合法后缀名的字符串\",\n        maxlength: jQuery.validator.format(\"请输入一个 长度最多是 {0} 的字符串\"),\n        minlength: jQuery.validator.format(\"请输入一个 长度最少是 {0} 的字符串\"),\n        rangelength: jQuery.validator.format(\"请输入 一个长度介于 {0} 和 {1} 之间的字符串\"),\n        range: jQuery.validator.format(\"请输入一个介于 {0} 和 {1} 之间的值\"),\n        max: jQuery.validator.format(\"请输入一个最大为{0} 的值\"),\n        min: jQuery.validator.format(\"请输入一个最小为{0} 的值\")\n     */\n    function validateRule() {\n        var icon = \"<i class='fa fa-times-circle'></i> \";\n        $(\"#signupForm\").validate({\n            rules: {\n                username: {\n                    required: true\n                },\n                password: {\n                    required: true,\n                    checkPwd: true\n                },\n                googleCode: {\n                    required: false\n                },\n                imgCode: {\n                    required: true\n                }\n            },\n            messages: {\n                username: {\n                    required: icon + \"请输入您的用户名\",\n                },\n                password: {\n                    required: icon + \"请输入您的密码\",\n                },\n                googleCode: {\n                    required: icon + \"请输入谷歌身份验证码\",\n                },\n                imgCode: {\n                    required: icon + \"请输入图片验证码\",\n                }\n            }\n        })\n    };\n\n    $.validator.addMethod(\"checkPwd\", function (value, element, params) {\n        var checkPwd = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/i;\n        return this.optional(element) || (1 == 1);//checkPwd.test(value)\n    }, \"*请输入正确的密码！\");\n\n</script>\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:58:57.431] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /favicon.ico
request client ip:  ::1
request query:  {}
response time: 1
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:59:13.822] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /signInPC
request client ip:  ::1
request body: 
{"type":"pc","username":"admin","password":"fy123456"}
response time: 17
response status: 200
response body: 
{"code":1,"secure":false,"message":"操作成功","data":{"id":2,"userName":"admin","sessionID":"","password":"3863e14eee210c0c7cb8a7aaf8daf55d","mobile":"13867440924","email":"13867440924@163.com","status":1,"addTime":1539841970000,"loginIp":"192.168.2.84","loginTime":1547089153813,"addManager":null,"updateTime":1542159680000,"remark":"","pageNo":0,"pageSize":10,"searchName":null,"roleModel":{"id":2,"name":"配方管理员","status":1,"remark":"只能操作配方管理","roleMenus":[{"id":263},{"id":264}],"pageNo":0,"pageSize":10,"searchName":null,"menuIdStr":null},"roleId":0,"pwdWay":0,"signInWay":0}}
*************** response log end ***************

[2019-01-10 10:59:14.851] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /
request client ip:  ::1
request query:  {}
response time: 16
response status: 200
response body: 
"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta name=\"renderer\" content=\"webkit\">\n    <title>后台管理系统</title>\n    <meta name=\"keywords\" content=\"后台管理系统\">\n    <meta name=\"description\" content=\"后台管理系统\">\n    <link rel=\"shortcut icon\" href=\"favicon.ico\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.min.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css\" rel=\"stylesheet\">\n</head>\n<body class=\"fixed-sidebar full-height-layout gray-bg\" style=\"overflow: hidden\">\n<div id=\"wrapper\">\n    <!--左侧导航开始-->\n    <nav class=\"navbar-default navbar-static-side\" role=\"navigation\" style=\"overflow: auto;\">\n        <div class=\"nav-close\">\n            <i class=\"fa fa-times-circle\"></i>\n        </div>\n        <div class=\"sidebar-collapse\">\n            <ul class=\"nav\" id=\"side-menu\">\n                <li class=\"nav-header\">\n                    <div>\n                        <span><img alt=\"image\" class=\"img-circle\" height=\"60\" width=\"60\"\n                                   src=\"/static/img/clogo.jpg\"/></span>\n                        <h3 class=\"\" style=\"color: #ffffff\">\n                            </i>后台管理系统\n                        </h3>\n                    </div>\n                    <div class=\"dropdown profile-element\">\n                        <a data-toggle=\"dropdown\" class=\"dropdown-toggle\" href=\"#\">\n                            <span class=\"clear\">\n                            <span class=\"block m-t-xs\">\n                                <strong class=\"font-bold\">admin</strong>\n                            </span>\n                            <span class=\"text-muted text-xs block\">配方管理员\n                                <b class=\"caret\"></b></span>\n                             </span>\n                        </a>\n                        <ul class=\"dropdown-menu animated fadeInRight m-t-xs\">\n                            <li><a href=\"javascript:;\" onclick=\"kfz()\">修改头像</a>\n                            </li>\n                            <li><a href=\"javascript:;\" onclick=\"kfz()\">个人资料</a>\n                            </li>\n                            <li><a href=\"javascript:;\" dz onclick=\"kfz()\">密码修改</a>\n                            </li>\n                            <li><a href=\"/signOut\">安全退出</a>\n                            </li>\n                        </ul>\n                        <div class=\"logo-element\">核创科技</div>\n                    </div>\n                </li>\n\n                <!--var icos=[-->\n                <!--'fa-desktop','fa-laptop','fa-tablet','fa-stethoscope','fa-circle-o','fa-medkit',-->\n                <!--'fa-beer','fa-suitcase','fa-coffee','fa-flash','fa-paste','fa-linkedin','fa fa-gear','fa-print','fa-bar-chart'-->\n                <!--]-->\n\n                \n                    \n                        \n                            <li><a href=\"javascript:void(0);\"><i\n                                            class=\"fa fa-qrcode\"></i>\n                                    <span\n                                            class=\"nav-label\">配方管理</span> <span\n                                            class=\"fa arrow\"></span></a>\n                                \n                                    \n                                \n                                    \n                                        <ul class=\"nav nav-second-level collapse\">\n                                            <li><a href=\"/formula/formula\" class=\"J_menuItem\"\n                                                   data-index=\"1\">配方查询</a></li>\n                                        </ul>\n                                    \n                                \n                            </li>\n                        \n                    \n                        \n                    \n                \n            </ul>\n        </div>\n    </nav>\n    <!--左侧导航结束-->\n    <!--右侧部分开始-->\n    <div id=\"page-wrapper\" class=\"gray-bg dashbard-1\">\n        <div class=\"row border-bottom\">\n            <nav class=\"navbar navbar-static-top\" role=\"navigation\" style=\"margin-bottom: 0\">\n                <div class=\"navbar-header\">\n                    <a class=\"navbar-minimalize minimalize-styl-2 btn btn-default \" href=\"#\" title=\"收起菜单\"><i\n                                class=\"fa fa-bars\"></i> </a>\n                    <form role=\"search\" class=\"navbar-form-custom\" method=\"post\" action=\"\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"请输入您需要查找的内容 …\" class=\"form-control\" name=\"top-search\"\n                                   id=\"top-search\">\n                        </div>\n                    </form>\n                </div>\n                <ul class=\"nav navbar-top-links navbar-right\">\n                    <li class=\"hidden-xs\"><a href=\"#\"><i class=\"fa fa-id-card\"></i></a></li>\n                    <li class=\"dropdown hidden-xs\"><a class=\"right-sidebar-toggle\" aria-expanded=\"false\"> <i\n                                    class=\"fa fa-tasks\"></i> 主题</a></li>\n                </ul>\n            </nav>\n        </div>\n        <div class=\"row content-tabs\">\n            <button class=\"roll-nav roll-left J_tabLeft\">\n                <i class=\"fa fa-backward\"></i>\n            </button>\n            <nav class=\"page-tabs J_menuTabs\">\n                <div class=\"page-tabs-content\">\n                    <a href=\"javascript:;\" class=\"active J_menuTab\" data-id=\"/welcome\">首页</a>\n                </div>\n            </nav>\n            <button class=\"roll-nav roll-right J_tabRight\">\n                <i class=\"fa fa-forward\"></i>\n            </button>\n            <div class=\"btn-group roll-nav roll-right\">\n                <button class=\"dropdown J_tabClose\" data-toggle=\"dropdown\">\n                    关闭操作<span class=\"caret\"></span>\n                </button>\n                <ul role=\"menu\" class=\"dropdown-menu dropdown-menu-right\">\n                    <li class=\"J_tabShowActive\"><a>定位当前选项卡</a></li>\n                    <li class=\"divider\"></li>\n                    <li class=\"J_tabCloseAll\"><a>关闭全部选项卡</a></li>\n                    <li class=\"J_tabCloseOther\"><a>关闭其他选项卡</a></li>\n                </ul>\n            </div>\n            <a href=\"/signOut\"  class=\"roll-nav roll-right J_tabExit\"><i\n                        class=\"fa fa fa-sign-out\"></i> 退出</a>\n        </div>\n        <div class=\"row J_mainContent\" id=\"content-main\">\n            <iframe class=\"J_iframe\" name=\"iframe0\" width=\"100%\" height=\"100%\" data-id=\"/welcome\" src=\"/welcome\"\n                    frameborder=\"0\">\n            </iframe>\n        </div>\n        <div class=\"footer\">\n            <div class=\"pull-right\">后台管理系统</div>\n        </div>\n    </div>\n    <!--右侧部分结束-->\n    <!--右侧边栏开始-->\n    <div id=\"right-sidebar\">\n        <div class=\"sidebar-container\">\n            <div class=\"tab-content\">\n                <div id=\"tab-1\" class=\"tab-pane active\">\n                    <div class=\"sidebar-title\">\n                        <h3><i class=\"fa fa-comments-o\"></i> 主题设置</h3>\n                        <small><i class=\"fa fa-tim\"></i>你可以从这里选择和预览主题的布局和样式，这些设置会被保存在本地，下次打开的时候会直接应用这些设置。</small>\n                    </div>\n                    <div class=\"skin-setttings\">\n                        <div class=\"title\">主题设置</div>\n                        <div class=\"setings-item\">\n                            <span>收起左侧菜单</span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"collapsemenu\" class=\"onoffswitch-checkbox\"\n                                           id=\"collapsemenu\">\n                                    <label class=\"onoffswitch-label\" for=\"collapsemenu\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"setings-item\">\n                            <span>固定顶部</span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"fixednavbar\" class=\"onoffswitch-checkbox\"\n                                           id=\"fixednavbar\">\n                                    <label class=\"onoffswitch-label\" for=\"fixednavbar\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"setings-item\">\n                            <span> 固定宽度 </span>\n                            <div class=\"switch\">\n                                <div class=\"onoffswitch\">\n                                    <input type=\"checkbox\" name=\"boxedlayout\" class=\"onoffswitch-checkbox\"\n                                           id=\"boxedlayout\">\n                                    <label class=\"onoffswitch-label\" for=\"boxedlayout\">\n                                        <span class=\"onoffswitch-inner\"></span>\n                                        <span class=\"onoffswitch-switch\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"title\">皮肤选择</div>\n                        <div class=\"setings-item default-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-0\">默认皮肤 </a></span>\n                        </div>\n                        <div class=\"setings-item blue-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-1\">蓝色主题 </a></span>\n                        </div>\n                        <div class=\"setings-item yellow-skin nb\">\n                            <span class=\"skin-name \"> <a href=\"#\" class=\"s-skin-3\">黄色/紫色主题 </a></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- 全局js -->\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/metisMenu/jquery.metisMenu.js\"></script>\n<script src=\"/static/js/plugins/slimscroll/jquery.slimscroll.min.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.min.js\"></script>\n<!-- 自定义js -->\n<script src=\"/static/js/app.js?v=4.1.0\"></script>\n<script type=\"text/javascript\" src=\"/static/js/contabs.js\"></script>\n<!-- 第三方插件 -->\n<script src=\"/static/js/plugins/pace/pace.min.js\"></script>\n<script>\n    function kfz() {\n        layer.msg(\"接口正在开发中---敬请关注······\", {type: 1, time: 3000});\n    }\n</script>\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:59:14.880] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /static/img/clogo.jpg
request client ip:  ::1
request query:  {}
response time: 2
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:59:14.933] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /welcome
request client ip:  ::1
request query:  {}
response time: 16
response status: 200
response body: 
"<!DOCTYPE HTML>\n<html>\n<title>主页</title>\n<head>\n    <meta charset=\"utf-8\">\n    <meta charset=\"utf-8\">\n    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\n    <title>后台管理系统</title>\n    <meta content=\"\" name=\"keywords\">\n    <meta content=\"\" name=\"description\">\n    <link href=\"favicon.ico\" rel=\"shortcut icon\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jsTree/style.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jqTreeGrid/jquery.treegrid.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/summernote/summernote-0.8.8.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/chosen/chosen.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"/static/js/plugins/layer/theme/default/layer.css?v=3.1.0\" id=\"layuicss-layer\">\n</head>\n<body>\n<div class=\"panel panel-default\">\n    <div class=\"panel-heading\">欢迎使用</div>\n    <div style=\"padding: 10px 0 20px 10px;\">\n        核创科技配方后台管理系统\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/jsTree/jstree.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.extension.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.bootstrap3.js\"></script>\n<script src=\"/static/js/plugins/chosen/chosen.jquery.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.js\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/common.js?v=2.0.0\"></script>\n<!--summernote-->\n<script src=\"/static/js/plugins/summernote/summernote.js\"></script>\n<script src=\"/static/js/plugins/summernote/summernote-zh-CN.min.js\"></script>\n<!-- 时间控件--->\n<script type=\"text/javascript\" src=\"/static/js/plugins/My97DatePicker/WdatePicker.js\"></script>\n\n</body>\n</html>"
*************** response log end ***************

[2019-01-10 10:59:15.282] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /favicon.ico
request client ip:  ::1
request query:  {}
response time: 1
response status: 200
response body: 
"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>404 页面</title>\r\n    <meta name=\"keywords\" content=\"\">\r\n    <meta name=\"description\" content=\"\">\r\n    <link rel=\"shortcut icon\" href=\"favicon.ico\"> <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\r\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"gray-bg\">\r\n<div class=\"middle-box text-center animated fadeInDown\">\r\n    <h1>404</h1>\r\n    <h3 class=\"font-bold\">页面未找到！</h3>\r\n    <div class=\"error-desc\">\r\n        抱歉，页面好像去火星了~\r\n        <br/>您可以返回主页看看\r\n        <br/><a href=\"/\" class=\"btn btn-primary m-t\">主页</a>\r\n    </div>\r\n</div>\r\n<!-- 全局js -->\r\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\r\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\r\n</body>\r\n</html>\r\n"
*************** response log end ***************

[2019-01-10 10:59:37.257] [INFO] resLogger - 
*************** response log start ***************
request method: GET
request originalUrl:  /formula/formula
request client ip:  ::1
request query:  {}
response time: 5
response status: 200
response body: 
"<!DOCTYPE HTML>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta charset=\"utf-8\">\n    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\n    <title>后台管理系统</title>\n    <meta content=\"\" name=\"keywords\">\n    <meta content=\"\" name=\"description\">\n    <link href=\"favicon.ico\" rel=\"shortcut icon\">\n    <link href=\"/static/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\n    <link href=\"/static/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jsTree/style.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/jqTreeGrid/jquery.treegrid.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/summernote/summernote-0.8.8.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/animate.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/plugins/chosen/chosen.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/style.css?v=4.1.0\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"/static/js/plugins/layer/theme/default/layer.css?v=3.1.0\" id=\"layuicss-layer\">\n</head>\n<style>\n    button {\n        display: none;\n    }\n\n    .mtable {\n        margin-top: 10px;\n    }\n</style>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content\">\n    <div class=\"col-sm-12\">\n        <div class=\"ibox\">\n            <div class=\"ibox-body\">\n                <div class=\"fixed-table-toolbar\">\n                    <table>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: 1px\">L:</span>\n                                <input name=\"l\" id=\"l\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"ll\" style=\"color: red;font-size: 18px;display: none\">请输入0-100之间的数L</span>\n                            </td>\n                            <td>\n                                   <span style=\"width: 10px;padding-left: 30px \">\n                                   材质名称:\n                                </span>\n                                <select data-placeholder=\"材质\" name=\"materialName\"\n                                        id=\"materialName\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"经编涤丝\">经编涤丝</option>\n                                    \n                                        <option value=\"40/2人棉\">40/2人棉</option>\n                                    \n                                        <option value=\"32S全棉\">32S全棉</option>\n                                    \n                                        <option value=\"C10S\">C10S</option>\n                                    \n                                        <option value=\"C7S\">C7S</option>\n                                    \n                                        <option value=\"R7S\">R7S</option>\n                                    \n                                        <option value=\"R32S\">R32S</option>\n                                    \n                                        <option value=\"C16S\">C16S</option>\n                                    \n                                        <option value=\"300D/DTY\">300D/DTY</option>\n                                    \n                                        <option value=\"DTY有光\">DTY有光</option>\n                                    \n                                        <option value=\"扁平丝\">扁平丝</option>\n                                    \n                                        <option value=\"超柔0.5\">超柔0.5</option>\n                                    \n                                        <option value=\"有光1.5毛\">有光1.5毛</option>\n                                    \n                                        <option value=\"丝绒\">丝绒</option>\n                                    \n                                        <option value=\"ICM-BPS\">ICM-BPS</option>\n                                    \n                                        <option value=\"ICM-CR\">ICM-CR</option>\n                                    \n                                        <option value=\"ICM-YG\">ICM-YG</option>\n                                    \n                                        <option value=\"ICM-SR\">ICM-SR</option>\n                                    \n                                        <option value=\"32T\">32T</option>\n                                    \n                                </select>\n\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>A:  </span>\n                                <input name=\"a\" id=\"a\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"aa\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数A</span>\n                            </td>\n                            <td>\n                                <span style=\"width: 10px;padding-left: 30px\">\n                                   光源名称:\n                                </span>\n                                <select data-placeholder=\"光源名称\" id=\"illuminantName\"\n                                        name=\"illuminantName\" tabindex=\"2\" aria-invalid=\"false\" disabled=\"disabled\"\n                                        style=\"width: 100px; background-color: #EEEEEE;width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                        <option readonly=\"readonly\"\n                                                value=\"D65\"\n                                                selected>D65</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                        <tr class=\"mtable\">\n                            <td>\n                                <span>B:  </span>\n                                <input name=\"b\" id=\"b\" type=\"text\" placeholder=\"请输入数字\" style=\"width: 100px\">\n                                <span id=\"bb\" style=\"color: red;font-size: 18px;display: none\">请输入-128-127之间的数B</span>\n                            </td>\n                            <td>\n                                 <span style=\"width: 10px;padding-left: 30px \">\n                                   光源角度:\n                                </span>\n                                <select data-placeholder=\"光源角度\" name=\"angle\"\n                                        id=\"angle\" tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\">全部</option>\n                                    \n                                        <option value=\"2\"\n                                                selected>2 度角\n                                        </option>\n                                    \n                                        <option value=\"10\"\n                                                selected>10 度角\n                                        </option>\n                                    \n                                </select>\n                            </td>\n\n                        </tr>\n                        <tr class=\"mtable\">\n                            <td>\n                                <span style=\"margin-left: -4px\">dE:</span><input name=\"evl\" id=\"evl\" type=\"text\"\n                                                                                 placeholder=\"默认值1\" style=\"width: 100px\">\n                            </td>\n                            <td>\n                                     <span style=\"width: 10px;padding-left: 30px\">\n                                   配方类型:\n                                    </span>\n                                <select data-placeholder=\"配方类型\" name=\"type\" id=\"type\"\n                                        tabindex=\"2\" aria-invalid=\"false\" style=\"width: 100px\">\n                                    <option value=\"0\" selected>全部</option>\n                                    \n                                        <option value=\"0\" selected >实验室配方</option>\n                                    \n                                        <option value=\"1\"  >车间配方</option>\n                                    \n                                </select>\n                            </td>\n                        </tr>\n\n                    </table>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"MeasurementButton\">\n                        <button class=\"btn btn-success\" onclick=\"OnMeasurementColor()\"\n                                style=\"background-color: #00B83F;margin-top: -140px;margin-left:240px;width: 80px;height: 60px;\">\n                            测色\n                        </button>\n                    </div>\n                    <div class=\"columns pull-left\" style=\"margin-left:80px;\" id=\"showFormula\">\n                        <button class=\"btn btn-success\" onclick=\"reLoad()\"\n                                style=\"margin-top: -140px;width: 80px;height: 60px;margin-left:-60px\">查找\n                        </button>\n                    </div>\n                </div>\n                <table id=\"exampleTable\" data-mobile-responsive=\"true\">\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n<script src=\"/static/js/jquery.min.js?v=2.1.4\"></script>\n<script src=\"/static/js/bootstrap.min.js?v=3.3.6\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js\"></script>\n<script src=\"/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\n<script src=\"/static/js/plugins/validate/jquery.validate.min.js\"></script>\n<script src=\"/static/js/plugins/validate/messages_zh.min.js\"></script>\n<script src=\"/static/js/plugins/jsTree/jstree.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.min.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.extension.js\"></script>\n<script src=\"/static/js/plugins/jqTreeGrid/jquery.treegrid.bootstrap3.js\"></script>\n<script src=\"/static/js/plugins/chosen/chosen.jquery.js\"></script>\n<script src=\"/static/js/plugins/layer/layer.js\"></script>\n<script src=\"/static/js/content.js?v=1.0.0\"></script>\n<script src=\"/static/js/common.js?v=2.0.0\"></script>\n<!--summernote-->\n<script src=\"/static/js/plugins/summernote/summernote.js\"></script>\n<script src=\"/static/js/plugins/summernote/summernote-zh-CN.min.js\"></script>\n<!-- 时间控件--->\n<script type=\"text/javascript\" src=\"/static/js/plugins/My97DatePicker/WdatePicker.js\"></script>\n\n<script type=\"text/javascript\">\n\n    $(function () {\n        load();\n    });\n\n    function load() {\n        $('#exampleTable')\n            .bootstrapTable(\n                {\n                    method: 'post', // 服务器数据的请求方式 get or post\n                    url: \"/formula/getFormulaList\", // 服务器数据的加载地址\n                    showRefresh: false,//是否显示刷新按钮\n                    showColumns: false, // 是否显示内容下拉框（选择显示的列）\n                    showToggle: false,\n                    iconSize: 'outline',\n                    toolbar: '#exampleToolbar',\n                    striped: true, // 设置为true会有隔行变色效果\n                    dataType: \"json\", // 服务器返回的数据类型\n                    pagination: false, // 设置为true会在底部显示分页条\n                    // queryParamsType : \"limit\",\n                    // //设置为limit则会发送符合RESTFull格式的参数\n                    singleSelect: false, // 设置为true将禁止多选\n                    contentType: \"application/x-www-form-urlencoded\",\n                    // //发送到服务器的数据编码类型\n                    pageSize: 10, // 如果设置了分页，每页数据条数\n                    pageNumber: 1, // 如果设置了分布，首页页码\n                    //dataField: \"data\",//这是返回的json数组的key.默认好是\"rows\".这里只有前后端约定好就行\n                    pageList: [50, 100, 200, 500],//分页步进值\n                    search: false, // 是否显示搜索框\n                    sidePagination: \"server\", // 设置在哪里进行分页，可选值为\"client\" 或者 \"server\"\n                    queryParams: function (params) {\n                        return {\n                            model: {\n                                l: $('#l').val() || 0,\n                                a: $('#a').val() || 0,\n                                b: $('#b').val() || 0,\n                                type: $('#type').val() || 0,\n                                angle: $('#angle').val() || 0,\n                                illuminantName: $('#illuminantName').val() || '',\n                                materialName: $('#materialName').val() || '',\n                                evl: $('#evl').val() || 1,\n                            }\n                        };\n                    },\n                    columns: [\n                        {\n                            field: 'id',\n                            align: 'center',\n                            title: 'ID'\n                        },\n                        // {\n                        //     field: 'colorantModel.rgb',\n                        //     align: 'center',\n                        //     title: '颜色'\n                        // },\n                        {\n                            field: 'name',\n                            align: 'center',\n                            title: '配方名称'\n                        },\n                        {\n                            field: 'illuminantName',\n                            align: 'center',\n                            title: '光源名称'\n                        },\n                        {\n                            field: 'sampleName',\n                            align: 'center',\n                            title: '色样号'\n                        },\n                        {\n                            field: 'type',\n                            align: 'center',\n                            title: '配方类型',\n                            formatter: function (value, row, index) {\n                                if (value == '1') {\n                                    return \"车间配方\";\n\n                                } else if (value == '0') {\n                                    return \"实验室配方\";\n\n                                } else {\n                                    return \"不详\";\n                                }\n                            }\n                        }\n                        ,\n                        {\n                            field: 'evl',\n                            align: 'center',\n                            title: '色差',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        }\n                        ,\n                        {\n                            field: 'l',\n                            align: 'center',\n                            title: 'L',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'a',\n                            align: 'center',\n                            title: 'A',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'b',\n                            align: 'center',\n                            title: 'B',\n                            formatter: function (value, row, index) {\n                                return value.toFixed(4);\n                            }\n                        },\n                        {\n                            field: 'materialName',\n                            align: 'center',\n                            title: '材质名称'\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[0]) {\n                                    return value[0].concentration;\n                                }\n                                return \"\";\n                            }\n                        }\n                        ,\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[1]) {\n                                    return value[1].concentration;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: 'concentration',\n                            align: 'center',\n                            title: '染料名称',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value[2]) {\n                                    return value[2].dyeName;\n\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            field: \"concentration\",\n                            align: 'center',\n                            title: '浓度(%)',\n                            formatter: function (value, row, index) {\n                                if (value.length > 0 && value.length == 3) {\n                                    return value[2].concentration;\n                                }\n                                if (value.length > 3) {\n                                    var a = '<a href=\"javascript:void(0);\" mce_href=\"#\"  title=\"浓度\" onclick=\"showAll(' + row.id + ')\">...</i></a> ';\n                                    return a;\n                                }\n                                return \"\";\n                            }\n                        },\n                        {\n                            title: '操作',\n                            field: '',\n                            align: 'center',\n                            formatter: function (value, row, index) {\n                                var e = '<a class=\"btn btn-primary btn-sm\" target=\"_blank\" href=\"/formula/showFormulaById/?id=' + row.id + '\" mce_href=\"#\"  title=\"查看\" >详情<i class=\"fa fa-edit\"></i></a> ';\n                                var d = '<a class=\"btn btn-warning btn-sm\" href=\"#\" title=\"删除\"  mce_href=\"#\" onclick=\"remove(\\'' + row.id + '\\')\">删除<i class=\"fa fa-remove\"></i></a> ';\n                                return e + d;\n                            }\n                        }\n                    ],\n                    onLoadSuccess: function () {  //加载成功时执行\n                        // layer.msg(\"加载成功\", {time: 1, icon: 1});\n                    },\n                    onLoadError: function () {  //加载失败时执行\n                        layer.msg(\"加载数据失败\", {time: 1500, icon: 2});\n                    }\n                });\n    }\n    MeasurementButton\n    function reLoad() {\n        if (parseFloat($(\"#l\").val()) > 100 || parseFloat($(\"#l\").val()) < 0) {\n            $(\"#ll\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:270px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#ll\").hide()\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#a\").val()) > 127 || parseFloat($(\"#a\").val()) < -128) {\n            $(\"#aa\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:300px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#aa\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        if (parseFloat($(\"#b\").val()) > 127 || parseFloat($(\"#b\").val()) < -128) {\n            $(\"#bb\").show();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:295px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n            return false;\n        } else {\n            $(\"#bb\").hide();\n            $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;\");\n            $(\"#showFormula\").attr(\"style\",\" margin-left:80px;\");\n        }\n        $('#exampleTable').bootstrapTable('refresh');\n    }\n\n    /** 查看通过配方id **/\n    function showFormulaById(id) {\n        layer.open({\n            type: 2,\n            title: '配方详情页',\n            maxmin: true,\n            shadeClose: false, // 点击遮罩关闭层\n            area: ['100%', '100%'],\n            content: '/formula/showFormulaById/?id=' + id\n        });\n    }\n\n    function remove(id) {\n        layer.confirm('确认删除此此配方吗？', {\n            btn: ['确定', '取消']\n        }, function () {\n            $.ajax({\n                url: \"/formula/removeFormulaById\",\n                type: \"post\",\n                data: {\n                    model: {id: id}\n                }, success: function (res) {\n                    if (res.code == 1) {\n                        layer.msg(res.message);\n                        reLoad();\n                    } else {\n                        layer.msg(res.message);\n                    }\n                }\n            });\n        })\n    }\n\n    function showAll(id) {\n        layer.open({\n            type: 2,\n            title: '配方浓度表',\n            maxmin: true,\n            shadeClose: true, // 点击遮罩关闭层\n            area: ['40%', '60%'],\n            content: '/formula/concentration/?formulaId=' + id\n        });\n    }\n\n    function showMeasurementButton() {\n\n        $(\"#MeasurementButton\").attr(\"style\",\" margin-left:80px;visibility:visible\");\n    }\n    //验证字符串是否是数字\n    function checkNumber(theObj) {\n        var reg = /^[0-9]+.?[0-9]*$/;\n        if (reg.test(theObj)) {\n            return true;\n        }\n        return false;\n    }\n\n    //获得LAB值\n    function getLABFromClient(l, a, b) {\n        $(\"#l\").val(l);\n        $(\"#a\").val(a);\n        $(\"#b\").val(b);\n    }\n</script>\n\n</body>\n</html>\n"
*************** response log end ***************

[2019-01-10 10:59:37.466] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 1
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:38.276] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 3
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:38.809] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 1
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:39.009] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 1
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:39.209] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 2
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:39.377] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 2
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:39.570] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 2
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:53.493] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 3
response status: 200
response body: 
{}
*************** response log end ***************

[2019-01-10 10:59:54.650] [INFO] resLogger - 
*************** response log start ***************
request method: POST
request originalUrl:  /formula/getFormulaList
request client ip:  ::1
request body: 
{"model":{"l":"0","a":"0","b":"0","type":"0","angle":"10","illuminantName":"D65","materialName":"0","evl":"1"}}
response time: 2
response status: 200
response body: 
{}
*************** response log end ***************

